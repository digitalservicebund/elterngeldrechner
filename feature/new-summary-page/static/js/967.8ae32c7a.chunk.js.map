{"version":3,"file":"static/js/967.8ae32c7a.chunk.js","mappings":"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","sources":["components/atoms/ElterngeldVarianteBadge.tsx","components/organisms/planungsuebersicht/VariantenDetails.tsx","components/organisms/planungsuebersicht/Elternteil.tsx","components/organisms/planungsuebersicht/usePlanungsdaten.ts","components/organisms/planungsuebersicht/Planungsuebersicht.tsx","components/pages/ZusammenfassungUndDatenPage.tsx"],"sourcesContent":["import { ReactNode } from \"react\";\nimport AddIcon from \"@digitalservicebund/icons/Add\";\nimport classNames from \"classnames\";\nimport { ElterngeldType } from \"@/monatsplaner\";\n\ntype Props = {\n  readonly variante: ElterngeldType;\n  readonly className?: string;\n};\n\nexport function ElterngeldvarianteBadge({\n  variante,\n  className,\n}: Props): ReactNode {\n  const label = variante ? LABELS[variante] : <AddIcon />;\n  const variantClassName = CLASS_NAME[variante];\n\n  return (\n    <span\n      className={classNames(\n        \"py-8 px-4 rounded text-center font-bold flex items-center justify-center\",\n        className,\n        variantClassName,\n      )}\n    >\n      {label}\n    </span>\n  );\n}\n\nconst LABELS: Record<ElterngeldType, string> = {\n  BEG: \"Basis\",\n  \"EG+\": \"Plus\",\n  PSB: \"Bonus\",\n  None: \"kein Elterngeld\",\n};\n\nconst CLASS_NAME: Record<ElterngeldType, string> = {\n  BEG: \"bg-Basis text-white\",\n  \"EG+\": \"bg-Plus text-black\",\n  PSB: \"bg-Bonus text-black\",\n  None: \"bg-white text-black border-grey border-2\",\n};\n","import { ReactNode } from \"react\";\nimport { DetailsOfVariante, Variante } from \"./types\";\nimport { ElterngeldvarianteBadge } from \"@/components/atoms/ElterngeldVarianteBadge\";\nimport { formatAsCurrency } from \"@/utils/locale-formatting\";\n\ntype Props = {\n  readonly variante: Variante;\n  readonly details: DetailsOfVariante;\n};\n\nexport function VariantenDetails({ variante, details }: Props): ReactNode {\n  const label = LABEL_PER_VARIANTE[variante];\n  const { elterngeld, nettoEinkommen, numberOfMonths } = details;\n  const formattedElterngeld = formatAsCurrency(elterngeld);\n  const formattedNettoEinkommen = formatAsCurrency(nettoEinkommen);\n\n  return (\n    <>\n      <ElterngeldvarianteBadge variante={variante} className=\"min-w-[7ch]\" />\n\n      <span>\n        {label} | {numberOfMonths} Monate\n        <br />\n        <strong>{formattedElterngeld}</strong>\n        {nettoEinkommen > 0 &&\n          ` | zusätzliches Einkommen ${formattedNettoEinkommen}`}\n      </span>\n    </>\n  );\n}\n\nconst LABEL_PER_VARIANTE: Record<Variante, string> = {\n  BEG: \"BasisElterngeld\",\n  \"EG+\": \"ElterngeldPlus\",\n  PSB: \"BonusElterngeld\",\n};\n","import { ReactNode, useId } from \"react\";\nimport PersonIcon from \"@digitalservicebund/icons/PersonOutline\";\nimport classNames from \"classnames\";\nimport { PlanungsdatenFuerElternteil, Variante, Zeitraum } from \"./types\";\nimport { VariantenDetails } from \"./VariantenDetails\";\nimport { formatAsCurrency } from \"@/utils/locale-formatting\";\n\ninterface Props extends PlanungsdatenFuerElternteil {}\n\nexport function Elternteil({\n  name,\n  totalNumberOfMonths,\n  geldInsgesamt,\n  zeitraeueme,\n  details,\n}: Props): ReactNode {\n  const formattedGeldInsgesamt = formatAsCurrency(geldInsgesamt);\n  const zeitraeumeHeadingIdentifier = useId();\n  const formattedZeitraeume = zeitraeueme.map(formatZeitraum);\n\n  return (\n    <div className=\"flex flex-col gap-8\">\n      <h4 className=\"text-base\">\n        <PersonIcon /> {name}\n      </h4>\n\n      <span>\n        {totalNumberOfMonths} Monate Elterngeld |{\" \"}\n        <span className=\"font-bold\">insgesamt {formattedGeldInsgesamt}</span>\n      </span>\n\n      <div aria-labelledby={zeitraeumeHeadingIdentifier} className=\"mb-auto\">\n        <span className=\"text-basis\" id={zeitraeumeHeadingIdentifier}>\n          Elterngeld im Zeitraum:\n        </span>\n\n        <ul className=\"list-none\">\n          {formattedZeitraeume.map((zeitraum) => (\n            <li key={zeitraum}>{zeitraum}</li>\n          ))}\n        </ul>\n      </div>\n\n      <ul\n        aria-label=\"Details pro Elterngeldvariante\"\n        className={classNames(\n          \"list-none\",\n          /* TODO: shorten list when utility classes work properly again */\n          \"divide-x-0 divide-y-2 divide-solid divide-off-white\",\n          \"border-x-0 border-y-2 border-solid border-off-white\",\n        )}\n      >\n        {ELTERNGELD_VARIANTEN.map((variante) => (\n          <li key={variante} className=\"flex items-start gap-24 py-8\">\n            <VariantenDetails variante={variante} details={details[variante]} />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nfunction formatZeitraum(zeitraum: Zeitraum): string {\n  const { from, to } = zeitraum;\n  const isSpanningTwoYears = from.getFullYear() < to.getFullYear();\n\n  const formattedFrom = zeitraum.from.toLocaleDateString(undefined, {\n    day: \"2-digit\",\n    month: \"2-digit\",\n    year: isSpanningTwoYears ? \"numeric\" : undefined,\n  });\n\n  const formattedTo = zeitraum.to.toLocaleDateString(undefined, {\n    day: \"2-digit\",\n    month: \"2-digit\",\n    year: \"numeric\",\n  });\n\n  return `${formattedFrom} bis ${formattedTo}`;\n}\n\nconst ELTERNGELD_VARIANTEN: Variante[] = [\"BEG\", \"EG+\", \"PSB\"];\n","import {\n  PlanungsdatenFuerElternteil,\n  Zeitraum,\n  ElternteilType,\n  VariantenDetails,\n  DetailsOfVariante,\n  Variante,\n  Month,\n} from \"./types\";\nimport { EgrConst } from \"@/globals/js/egr-configuration\";\nimport { createAppSelector, useAppSelector } from \"@/redux/hooks\";\nimport { stepNachwuchsSelectors } from \"@/redux/stepNachwuchsSlice\";\nimport { ElterngeldRow, ElterngeldRowsResult } from \"@/redux/stepRechnerSlice\";\n\nexport function usePlanungdaten(): PlanungsdatenFuerElternteil[] {\n  const isSingleParent = useAppSelector(isSingleParentSelector);\n  const planungsdatenET1 = useAppSelector(planungsdatenET1Selector);\n  const planungsdatenET2 = useAppSelector(planungsdatenET2Selector);\n  return isSingleParent\n    ? [planungsdatenET1]\n    : [planungsdatenET1, planungsdatenET2];\n}\n\nconst isSingleParentSelector = createAppSelector(\n  [(state) => state.stepAllgemeineAngaben.antragstellende],\n  (antragstellende) => antragstellende === \"EinenElternteil\",\n);\n\nconst planungsdatenET1Selector = createPlanungsdatenSelector(\"ET1\");\nconst planungsdatenET2Selector = createPlanungsdatenSelector(\"ET2\");\n\nfunction createPlanungsdatenSelector(elternteil: ElternteilType) {\n  return createAppSelector(\n    [\n      (state) => state.stepAllgemeineAngaben.pseudonym[elternteil],\n      (state) => state.monatsplaner.elternteile[elternteil].months as Month[],\n      (state) => state.stepRechner[elternteil].elterngeldResult,\n      stepNachwuchsSelectors.getWahrscheinlichesGeburtsDatum,\n    ],\n    (pseudonym, months, elterngeldResult, birthdate) => ({\n      name: pseudonym,\n      totalNumberOfMonths: countPlannedMonths(months),\n      geldInsgesamt:\n        sumUpElterngeld(months, elterngeldResult) +\n        sumUpNettoEinkommen(months, elterngeldResult),\n      zeitraeueme: assembleZeitraeume(months, birthdate),\n      details: combineDetails(months, elterngeldResult),\n    }),\n  );\n}\n\nfunction combineDetails(\n  months: Month[],\n  elterngeldResult: ElterngeldRowsResult,\n): VariantenDetails {\n  return {\n    BEG: combineDetailsOfVariante(\"BEG\", months, elterngeldResult),\n    \"EG+\": combineDetailsOfVariante(\"EG+\", months, elterngeldResult),\n    PSB: combineDetailsOfVariante(\"PSB\", months, elterngeldResult),\n  };\n}\n\nfunction combineDetailsOfVariante(\n  variante: Variante,\n  months: Month[],\n  elterngeldResult: ElterngeldRowsResult,\n): DetailsOfVariante {\n  return {\n    numberOfMonths: countPlannedMonths(months, [variante]),\n    elterngeld: sumUpElterngeld(months, elterngeldResult, [variante]),\n    nettoEinkommen: sumUpNettoEinkommen(months, elterngeldResult, [variante]),\n  };\n}\n\nfunction countPlannedMonths(\n  months: Month[],\n  filter: Variante[] = [\"BEG\", \"EG+\", \"PSB\"],\n): number {\n  return months.filter(\n    (month) => month.type !== \"None\" && filter.includes(month.type),\n  ).length;\n}\n\nfunction sumUpElterngeld(\n  months: Month[],\n  elterngeldResult: ElterngeldRowsResult,\n  filter: Variante[] = [\"BEG\", \"EG+\", \"PSB\"],\n): number {\n  const resultPerMonth = flattenElterngeldResult(elterngeldResult);\n\n  const elterngeldPerMonth = months.map((month, monthIndex) => {\n    const isOfInterest = month.type !== \"None\" && filter.includes(month.type);\n    const resultForMonth = resultPerMonth[monthIndex];\n    return isOfInterest ? readElterngeld(resultForMonth, month.type) : 0;\n  });\n\n  return elterngeldPerMonth.reduce((sum, elterngeld) => sum + elterngeld, 0);\n}\n\nfunction sumUpNettoEinkommen(\n  months: Month[],\n  elterngeldResult: ElterngeldRowsResult,\n  filter: (Variante | \"None\")[] = [\"BEG\", \"EG+\", \"PSB\", \"None\"],\n): number {\n  const resultPerMonth = flattenElterngeldResult(elterngeldResult);\n\n  const nettoEinkommenPerMonth = months.map((month, monthIndex) => {\n    const isOfInterest = filter.includes(month.type);\n    const resultForMonth = resultPerMonth[monthIndex];\n    return isOfInterest ? resultForMonth.nettoEinkommen : 0;\n  });\n\n  return nettoEinkommenPerMonth.reduce((sum, einkommen) => sum + einkommen, 0);\n}\n\nfunction flattenElterngeldResult(\n  elterngeldResult: ElterngeldRowsResult,\n): ElterngeldRow[] {\n  const rows =\n    elterngeldResult.state === \"success\" ? elterngeldResult.data : [];\n\n  return Array.from(\n    { length: EgrConst.lebensMonateMaxNumber },\n    (_, monthIndex) => {\n      const row = rows.find(checkRowIncludesMonth.bind({ monthIndex }));\n      return row ?? createRowWithNoElterngeld(monthIndex);\n    },\n  );\n}\n\nfunction readElterngeld(\n  resultForMonth: ElterngeldRow,\n  variante: Variante,\n): number {\n  switch (variante) {\n    case \"BEG\":\n      return resultForMonth.basisElternGeld;\n    case \"EG+\":\n    case \"PSB\":\n      return resultForMonth.elternGeldPlus;\n  }\n}\n\nfunction checkRowIncludesMonth(\n  this: { monthIndex: number },\n  row: ElterngeldRow,\n): boolean {\n  const fromMonthIndex = row.vonLebensMonat - 1;\n  const tillMonthIndex = row.bisLebensMonat - 1;\n  return fromMonthIndex <= this.monthIndex && this.monthIndex <= tillMonthIndex;\n}\n\nfunction createRowWithNoElterngeld(monthIndex: number): ElterngeldRow {\n  return {\n    vonLebensMonat: monthIndex,\n    bisLebensMonat: monthIndex,\n    basisElternGeld: 0,\n    elternGeldPlus: 0,\n    nettoEinkommen: 0,\n  };\n}\n\nfunction assembleZeitraeume(months: Month[], birthdate: Date): Zeitraum[] {\n  // [\"BEG\", \"EG+\", \"None\", \"PSB\"] -> [[0, 1], [3]]\n  const groupsOfFollowingMonthIndexesWithElterngeld = months\n    .reduce(\n      (groups, month, index) => {\n        if (month.type === \"None\") {\n          groups.push([]);\n        } else {\n          const lastGroup = groups[groups.length - 1];\n          lastGroup.push(index);\n        }\n\n        return groups;\n      },\n      [[]] as Array<Array<number>>,\n    )\n    .filter((group) => group.length > 0);\n\n  const zeitraeumeByLebensmonate =\n    groupsOfFollowingMonthIndexesWithElterngeld.map((group) => ({\n      fromLebensmonat: group[0] + 1,\n      toLebensmonat: group[group.length - 1] + 1,\n    }));\n\n  return zeitraeumeByLebensmonate.map((zeitraum) => ({\n    from: copyAndShiftDate(birthdate, { months: zeitraum.fromLebensmonat - 1 }),\n    to: copyAndShiftDate(birthdate, {\n      months: zeitraum.toLebensmonat,\n      days: -1, // Zeitraum ends one day before next Lebensmonat begins.\n    }),\n  }));\n}\n\nfunction copyAndShiftDate(\n  date: Date,\n  shiftBy: { months?: number; days?: number },\n): Date {\n  const copiedDate = new Date(date);\n  copiedDate.setMonth(copiedDate.getMonth() + (shiftBy.months ?? 0));\n  copiedDate.setDate(copiedDate.getDate() + (shiftBy.days ?? 0));\n  return copiedDate;\n}\n","import { ReactNode } from \"react\";\nimport { Elternteil } from \"./Elternteil\";\nimport { usePlanungdaten } from \"./usePlanungsdaten\";\n\nexport function Planungsuebersicht(): ReactNode {\n  const data = usePlanungdaten();\n\n  return (\n    <div className=\"flex flex-wrap gap-16 *:grow\">\n      {data.map((entry) => (\n        <Elternteil key={entry.name} {...entry} />\n      ))}\n    </div>\n  );\n}\n","import { useId } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"@/components/atoms\";\nimport { Planungsuebersicht } from \"@/components/organisms/planungsuebersicht\";\nimport { Page } from \"@/components/organisms/page\";\nimport { formSteps } from \"@/utils/formSteps\";\n\nfunction ZusammenfassungUndDatenPage() {\n  const descriptionIdentifier = useId();\n\n  const navigate = useNavigate();\n  const navigateToPreviousStep = () =>\n    navigate(formSteps.rechnerUndPlaner.route);\n\n  return (\n    <Page step={formSteps.zusammenfassungUndDaten}>\n      <div className=\"flex flex-wrap justify-between gap-y-80\">\n        <section\n          className=\"flex basis-full flex-col gap-24\"\n          aria-describedby={descriptionIdentifier}\n        >\n          <h3>Zusammenfassung</h3>\n\n          <p id={descriptionIdentifier}>\n            Hier finden sie eine Übersicht Ihrer Planung der Elterngeldmonate\n          </p>\n\n          <Planungsuebersicht />\n        </section>\n\n        <Button\n          buttonStyle=\"secondary\"\n          label=\"Zurück\"\n          onClick={navigateToPreviousStep}\n        />\n      </div>\n    </Page>\n  );\n}\n\nexport default ZusammenfassungUndDatenPage;\n"],"names":["ElterngeldvarianteBadge","_ref","variante","className","label","LABELS","_jsx","AddIcon","variantClassName","CLASS_NAME","classNames","children","BEG","PSB","None","VariantenDetails","details","LABEL_PER_VARIANTE","elterngeld","nettoEinkommen","numberOfMonths","formattedElterngeld","formatAsCurrency","formattedNettoEinkommen","_jsxs","_Fragment","concat","Elternteil","name","totalNumberOfMonths","geldInsgesamt","zeitraeueme","formattedGeldInsgesamt","zeitraeumeHeadingIdentifier","useId","formattedZeitraeume","map","formatZeitraum","PersonIcon","id","zeitraum","ELTERNGELD_VARIANTEN","from","to","isSpanningTwoYears","getFullYear","formattedFrom","toLocaleDateString","undefined","day","month","year","formattedTo","isSingleParentSelector","createAppSelector","state","stepAllgemeineAngaben","antragstellende","planungsdatenET1Selector","createPlanungsdatenSelector","planungsdatenET2Selector","elternteil","pseudonym","monatsplaner","elternteile","months","stepRechner","elterngeldResult","stepNachwuchsSelectors","getWahrscheinlichesGeburtsDatum","birthdate","countPlannedMonths","sumUpElterngeld","sumUpNettoEinkommen","assembleZeitraeume","combineDetails","combineDetailsOfVariante","filter","arguments","length","type","includes","resultPerMonth","flattenElterngeldResult","monthIndex","isOfInterest","resultForMonth","basisElternGeld","elternGeldPlus","readElterngeld","reduce","sum","einkommen","rows","data","Array","EgrConst","lebensMonateMaxNumber","_","row","find","checkRowIncludesMonth","bind","vonLebensMonat","bisLebensMonat","createRowWithNoElterngeld","fromMonthIndex","tillMonthIndex","this","groups","index","push","group","fromLebensmonat","toLebensmonat","copyAndShiftDate","days","date","shiftBy","_shiftBy$months","_shiftBy$days","copiedDate","Date","setMonth","getMonth","setDate","getDate","Planungsuebersicht","isSingleParent","useAppSelector","planungsdatenET1","planungsdatenET2","usePlanungdaten","entry","descriptionIdentifier","navigate","useNavigate","Page","step","formSteps","zusammenfassungUndDaten","Button","buttonStyle","onClick","navigateToPreviousStep","rechnerUndPlaner","route"],"sourceRoot":""}