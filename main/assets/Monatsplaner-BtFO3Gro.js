import{j as u,c as $,n as g,r as Z,v as zn,q as $n,w as Un,R as Hn,x as Kn,y as qn,z as _s,A as bs,C as ks,F as vs,G as Jt,H as Zn,e as Wn,I as B,J as Yn,Y as ze,B as xe,K as Xs,L as Js,M as Ze,S as Je,N as ve,O as pt,Q as mt,b as q,T as et,U as Xn,k as as,V as ct,W as st,u as Jn,a as Qn,X as ei,Z as ti,$ as si,g as ni,a0 as ii,f as Es,a1 as Dt,a2 as ri,a3 as ai,a4 as ui,a5 as li,a6 as oi}from"./index-DPo_heNS.js";import{E as Qs}from"./egr-configuration-BkWsa5ZA.js";function rt({id:s,error:e=!1,children:t}){return u.jsx("div",{className:$(g("info-text"),e&&g("info-text--error")),id:s,children:t})}function xs({type:s,number:e,prefix:t,className:n}){const r=`footnote_${t?`${t}-`:""}${e}_${Date.now()}`,a=$(g("foot-note-number"),n);switch(s){case"note":return u.jsx("span",{id:r,className:a,children:e});case"anchor":return u.jsx("a",{href:`#${r}`,className:a,children:e});default:throw new Error("Unknown FootNoteType: "+s)}}function We({info:s,isLarge:e,isMonatsplanner:t,isElternteilOne:n}){const[i,r]=Z.useState(!1),a=zn({onTriggered:()=>r(!1)});return u.jsxs("div",{className:$(g("info-dialog"),e&&g("info-dialog--large"),t&&g("info-dialog--monatsplanner")),ref:a,children:[u.jsx("button",{className:$(g("info-dialog__button"),t&&g("info-dialog__button--monatsplanner")),type:"button",onClick:()=>r(!0),"aria-label":"Zugehörige Information zeigen",children:u.jsx($n,{})}),!!i&&u.jsxs("div",{className:$(g("info-dialog-box"),n&&g("info-dialog-box--monatsplanner-et-one")),role:"dialog","aria-describedby":s.id,children:[u.jsx("button",{className:g("info-dialog-box__button"),type:"button",onClick:()=>r(!1),"aria-label":"Information schließen",children:u.jsx(Un,{})}),u.jsx("div",{id:s.id,className:g("info-dialog-box__text"),children:typeof s.text=="string"?u.jsx("p",{className:"whitespace-pre-line",children:s.text}):s.text})]})]})}const Ne={erwerbstaetigkeitNichtSelbststaendig:{id:"info-1",text:"z.B. Lohn, Gehalt (auch aus einem Minijob)"},erwerbstaetigkeitGewinneinkuenfte:{id:"info-2",text:"Einkünfte aus einem Gewerbebetrieb (auch z.B. aus dem Betrieb einer Fotovoltaik-Anlage), Einkünfte aus selbständiger Arbeit (auch z.B. aus einem Nebenberuf), Einkünfte aus Land- und Forstwirtschaft"},erwerbstaetigkeitNichtSelbststaendigGewinneinkuenfte:{id:"info-2",text:"Einkünfte aus nichtselbständiger Arbeit: z.B. Lohn Gehalt (auch aus einem Minijob) oder Gewinneinkünfte: Einkünfte aus einem Gewerbebetrieb (auch z.B. aus dem Betrieb einer Fotovoltaik-Anlage), Einkünfte aus selbständiger Arbeit (auch z.B. aus einem Nebenberuf), Einkünfte aus Land- und Forstwirtschaft"},einkommenNichtSelbststaendig:{id:"info-3",text:"Als Einkommen werden alle Einkünfte aus Ihrer nicht-selbständigen Tätigkeit im Bemessungszeitraum berücksichtigt. Nicht berücksichtigt werden sonstige Bezüge, z.B. Abfindungen, Leistungsprämien, Provisionen, 13. Monatsgehälter. Steuerfreie Einnahmen werden ebenfalls nicht berücksichtigt, z.B. Trinkgelder, steuerfreie Zuschläge, Krankengeld, Kurzarbeitergeld, ALG II"},einkommenGewinneinkuenfte:{id:"info-4",text:"Dies ergibt sich aus Ihrem letzten oder vorletzten Steuerbescheid oder Sie können schätzen"},einkommenSteuerklasse:{id:"info-5",text:"Das Faktorverfahren in der Steuerklassenkombination IV/IV wird in der vorliegenden Berechnung nicht berücksichtigt. Der Standardwert 1,0 ist festgelegt. Sollte Ihr Faktor kleiner als 1,0 sein, wirkt sich dies entsprechend auf die Höhe des Elterngeldes aus. Sie erhalten dann mehr Elterngeld (im unteren zweistelligen Bereich)"},minijobsMaxZahl:{id:"info-6",text:`Mini-Job - geringfügige Beschäftigung bis maximal 538 Euro monatlich
- vor dem 01.01.2024: bis maximal 520 Euro monatlich
- vor dem 01.10.2022: bis maximal 450 Euro monatlich`},monatsplannerMutterschaftsleistungen:{id:"info-10",text:"In den ersten zwei oder drei Lebensmonaten bekommt die leibliche Mutter meistens Mutterschaftsleistungen. Dann gelten diese Monate bei ihr automatisch als Monate mit Basiselterngeld"},kindGeburtsdatum:{id:"info-11",text:u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"Wenn Ihr Kind zu früh zur Welt kommt, können Sie länger Elterngeld bekommen. Dabei kommt es auf den errechneten Geburtstermin an:"}),u.jsxs("dl",{children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("dt",{children:"mindestens 6 Wochen zu früh:"}),u.jsx("dd",{className:"ml-0",children:"1 zusätzlicher Monat Basiselterngeld"})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("dt",{children:"mindestens 8 Wochen zu früh:"}),u.jsx("dd",{className:"ml-0",children:"2 zusätzliche Monate Basiselterngeld"})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("dt",{children:"mindestens 12 Wochen zu früh:"}),u.jsx("dd",{className:"ml-0",children:"3 zusätzliche Monate Basiselterngeld"})]}),u.jsxs("div",{children:[u.jsx("dt",{children:"mindestens 16 Wochen zu früh:"}),u.jsx("dd",{className:"ml-0",children:"4 zusätzliche Monate Basiselterngeld"})]})]}),u.jsx("p",{children:"Wie sonst auch, können Sie jeden dieser Monate mit Basiselterngeld tauschen in jeweils 2 Monate mit ElterngeldPlus."}),u.jsx("p",{children:"Für die vorliegende Berechnung werden diese zusätzlichen Monate nicht berücksichtigt."})]})},alleinerziehend:{id:"info-12",text:"Als alleinerziehend gelten Sie, wenn der andere Elternteil weder mit Ihnen noch mit dem Kind zusammen wohnt und Sie steuerrechtlich als alleinerziehend gelten."},einkommenLimitÜberschritten:{id:"info-13",text:"Wenn Sie besonders viel Einkommen haben, können Sie kein Elterngeld bekommen. Elterngeld ist ausgeschlossen ab einem zu versteuernden Jahreseinkommen von mehr als 200.000 Euro bei Alleinerziehenden, Paaren und getrennt Erziehenden. Diese Angabe finden Sie beispielsweise auf Ihrem Steuerbescheid. Wenn Sie Ihr Kind alleine erziehen, geben Sie nur Ihr eigenes Einkommen an. Als Paar oder getrennt erziehende Eltern rechnen Sie das Einkommen beider Elternteile zusammen."},mutterschaftsleistungen:{id:"info-14",text:u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"Während des Mutterschutzes erhalten Sie Mutterschaftsleistungen, zum Beispiel:"}),u.jsxs("ul",{className:"list-disc pl-24",children:[u.jsx("li",{children:"das Mutterschaftsgeld der gesetzlichen Krankenkassen"}),u.jsx("li",{children:"der Arbeitgeber-Zuschuss zum Mutterschaftsgeld"}),u.jsx("li",{children:"die Bezüge für Beamtinnen während des Mutterschutzes"})]}),u.jsx("p",{children:"Diese werden – wenn ein Anspruch darauf besteht – normalerweise in den ersten acht Wochen nach der Geburt gezahlt."})]})}};function Nt({isSelected:s,isMutterschutzMonth:e,isElternteilOne:t,isHighlighted:n,label:i,elterngeldType:r,onToggle:a,onDragOver:l,onMouseOver:h,onMouseLeave:f,children:p}){const m=()=>{a()},y=P=>{P.preventDefault()},V=P=>{P.buttons!==0&&l(),h&&h()};function R(){h&&h()}return u.jsx("div",{className:$(g("monatsplaner-month"),s&&g("monatsplaner-month--selected"),n&&g("monatsplaner-month--highlighted"),r==="BEG"&&g("monatsplaner-month--beg"),r==="EG+"&&g("monatsplaner-month--egplus"),r==="PSB"&&g("monatsplaner-month--psb")),"data-testid":i,children:e?u.jsx(We,{isMonatsplanner:!0,isElternteilOne:t,info:Ne.monatsplannerMutterschaftsleistungen}):u.jsx(u.Fragment,{children:u.jsx("button",{type:"button","aria-label":i,onMouseDown:m,onClick:y,onMouseOver:V,onFocus:R,onBlur:f,onMouseLeave:f,children:p})})})}function hi(){return u.jsx("div",{children:"Jeder Elternteil muss mindestens 2 und darf maximal 12 Monate Elterngeld beantragen."})}function ci(){return u.jsx("div",{children:"Sie müssen mindestens zwei Monate Elterngeld beantragen."})}const di=s=>{if(s==="BEG")return"Basiselterngeld";if(s==="BEGAndEG+")return"Basiselterngeld- und ElterngeldPlus"};function ys({targetType:s}){return u.jsxs("div",{children:["Ihre verfügbaren ",di(s),"-Monate sind aufgebraucht."]})}function fi({label:s}){return u.jsx("div",{children:`Auch Monat ${s} wurde automatisch ausgewählt, weil Sie Partnerschaftsbonus mindestens 2 Monate nehmen müssen.`})}function As(){return u.jsx("div",{children:"Dieser Monat kann nicht abgewählt werden. Der Partnerschaftsbonus muss am Stück genommen werden."})}function pi(){return u.jsx("div",{children:"Der Partnerschaftsbonus ändert sich immer auch beim anderen Elternteil."})}function Ss({errorCodes:s}){const e=s.map(t=>{switch(t){case"HasNoSelection":return"Mindestens ein Elternteil muss Elterngeld beantragen.";case"HasTakenMoreThanTheAvailableBEGMonths":return"Reduzieren Sie auf die verfügbare Anzahl von Basiselterngeld-Monaten.";case"DoesNotHaveTheMinimumAmountOfEGMonthsOrNoneAtAll":return"Nur 1 Monat Elterngeld für ein Elternteil ist nicht zulässig.";case"DoesNotHaveContinuousEGAfterBEGAnspruch":return"Elterngeld muss ab dem 15. Monat durchgängig genommen werden.";case"HasTakenBEGAfterBEGAnspruch":return"Basiselterngeld kann nicht nach dem 15. Monat genommen werden";default:return""}});return u.jsx(u.Fragment,{children:e.map(t=>u.jsx("div",{children:t},t))})}function Fs(){return u.jsx("div",{children:"Ein Elternteil darf maximal 12 Monate Basiselterngeld beantragen."})}function mi({messages:s,active:e}){return u.jsx("div",{className:`${g("toast")} ${e?g("toast--active"):""}`,children:s!==null&&s.map((t,n)=>u.jsx(Z.Fragment,{children:t},n))})}const gi=({messages:s,active:e,onUnMount:t,timeout:n})=>(Z.useEffect(()=>{let i;return s!==null&&s.length>0&&(i=setTimeout(()=>{t()},n)),()=>clearTimeout(i)},[s,t,n]),Hn.createPortal(u.jsx(mi,{messages:s,active:e}),document.getElementById("egr-toast"))),en={isValid:!0},_i=(...s)=>s.reduce((e,t)=>t.isValid?e:{isValid:!1,errorCodes:[...e.isValid?[]:e.errorCodes,...t.errorCodes]},en);function at(s,e){return(t,n)=>e(t,n)?en:{isValid:!1,errorCodes:[s]}}const bi=at("HasNoSelection",s=>_s(s.ET1.months)>0||_s(s.ET2.months)>0),ki=at("HasTakenMoreThanTheAvailableBEGMonths",s=>s.remainingMonths.basiselterngeld>=0),vi=at("DoesNotHaveTheMinimumAmountOfEGMonthsOrNoneAtAll",s=>{const e=bs(s.ET1.months),t=bs(s.ET2.months),n=ks(s.ET1.months),i=ks(s.ET2.months),r=e+n,a=t+i;return(r===0||r>=vs)&&(a===0||a>=vs)}),Ei=at("DoesNotHaveContinuousEGAfterBEGAnspruch",(s,e)=>{const t=s.ET1.months.map((i,r)=>i.type==="None"?s.ET2.months[r]:i);return Jt(t,"EG+","PSB")<=e||Zn(t,e,"EG+","PSB")}),xi=at("HasTakenBEGAfterBEGAnspruch",(s,e)=>Jt(s.ET1.months,"BEG")<e&&Jt(s.ET2.months,"BEG")<e),yi=s=>{if(s)switch(qn(s)){case"16Weeks":return 18;case"12Weeks":return 17;case"8Weeks":return 16;case"6Weeks":return 15;case"NotAFruehchen":return 14}return 14},Cs=(s,e)=>{const t=yi(Kn(e));return _i(bi(s),ki(s),vi(s),Ei(s,t),xi(s,t))};function Ai(s,e,t){if(!t){const n=Si(s,e);Wn(Ci,n)}}function Si(s,e){const t=Ms(s),n=Ms(e),i=Math.min(t,n),r=Math.max(t,n),a=r===0,l=i/r;return a?0:l}function Ms(s){return s.map(e=>Fi[e]).reduce((e,t)=>e+t,0)}const Fi={BEG:1,"EG+":.5,PSB:.5,None:0},Ci="partnerschaftlicheverteilung";var ut=s=>s.type==="checkbox",Ke=s=>s instanceof Date,ce=s=>s==null;const tn=s=>typeof s=="object";var re=s=>!ce(s)&&!Array.isArray(s)&&tn(s)&&!Ke(s),sn=s=>re(s)&&s.target?ut(s.target)?s.target.checked:s.target.value:s,Mi=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,nn=(s,e)=>s.has(Mi(e)),Ti=s=>{const e=s.constructor&&s.constructor.prototype;return re(e)&&e.hasOwnProperty("isPrototypeOf")},us=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ie(s){let e;const t=Array.isArray(s);if(s instanceof Date)e=new Date(s);else if(s instanceof Set)e=new Set(s);else if(!(us&&(s instanceof Blob||s instanceof FileList))&&(t||re(s)))if(e=t?[]:{},!t&&!Ti(s))e=s;else for(const n in s)s.hasOwnProperty(n)&&(e[n]=ie(s[n]));else return s;return e}var Ye=s=>Array.isArray(s)?s.filter(Boolean):[],J=s=>s===void 0,b=(s,e,t)=>{if(!e||!re(s))return t;const n=Ye(e.split(/[,[\].]+?/)).reduce((i,r)=>ce(i)?i:i[r],s);return J(n)||n===s?J(s[e])?t:s[e]:n},Ee=s=>typeof s=="boolean";const gt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},be={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Te={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rn=B.createContext(null),Fe=()=>B.useContext(rn),ta=s=>{const{children:e,...t}=s;return B.createElement(rn.Provider,{value:t},e)};var an=(s,e,t,n=!0)=>{const i={defaultValues:e._defaultValues};for(const r in s)Object.defineProperty(i,r,{get:()=>{const a=r;return e._proxyFormState[a]!==be.all&&(e._proxyFormState[a]=!n||be.all),t&&(t[a]=!0),s[a]}});return i},pe=s=>re(s)&&!Object.keys(s).length,un=(s,e,t,n)=>{t(s);const{name:i,...r}=s;return pe(r)||Object.keys(r).length>=Object.keys(e).length||Object.keys(r).find(a=>e[a]===(!n||be.all))},_e=s=>Array.isArray(s)?s:[s],ln=(s,e,t)=>!s||!e||s===e||_e(s).some(n=>n&&(t?n===e:n.startsWith(e)||e.startsWith(n)));function Ft(s){const e=B.useRef(s);e.current=s,B.useEffect(()=>{const t=!s.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[s.disabled])}function wi(s){const e=Fe(),{control:t=e.control,disabled:n,name:i,exact:r}=s||{},[a,l]=B.useState(t._formState),h=B.useRef(!0),f=B.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=B.useRef(i);return p.current=i,Ft({disabled:n,next:m=>h.current&&ln(p.current,m.name,r)&&un(m,f.current,t._updateFormState)&&l({...t._formState,...m}),subject:t._subjects.state}),B.useEffect(()=>(h.current=!0,f.current.isValid&&t._updateValid(!0),()=>{h.current=!1}),[t]),an(a,t,f.current,!1)}var Ae=s=>typeof s=="string",on=(s,e,t,n,i)=>Ae(s)?(n&&e.watch.add(s),b(t,s,i)):Array.isArray(s)?s.map(r=>(n&&e.watch.add(r),b(t,r))):(n&&(e.watchAll=!0),t);function hn(s){const e=Fe(),{control:t=e.control,name:n,defaultValue:i,disabled:r,exact:a}=s||{},l=B.useRef(n);l.current=n,Ft({disabled:r,subject:t._subjects.values,next:p=>{ln(l.current,p.name,a)&&f(ie(on(l.current,t._names,p.values||t._formValues,!1,i)))}});const[h,f]=B.useState(t._getWatch(n,i));return B.useEffect(()=>t._removeUnmounted()),h}var ls=s=>/^\w*$/.test(s),cn=s=>Ye(s.replace(/["|']|\]/g,"").split(/\.|\[/)),K=(s,e,t)=>{let n=-1;const i=ls(e)?[e]:cn(e),r=i.length,a=r-1;for(;++n<r;){const l=i[n];let h=t;if(n!==a){const f=s[l];h=re(f)||Array.isArray(f)?f:isNaN(+i[n+1])?{}:[]}s[l]=h,s=s[l]}return s};function Bi(s){const e=Fe(),{name:t,disabled:n,control:i=e.control,shouldUnregister:r}=s,a=nn(i._names.array,t),l=hn({control:i,name:t,defaultValue:b(i._formValues,t,b(i._defaultValues,t,s.defaultValue)),exact:!0}),h=wi({control:i,name:t}),f=B.useRef(i.register(t,{...s.rules,value:l,...Ee(s.disabled)?{disabled:s.disabled}:{}}));return B.useEffect(()=>{const p=i._options.shouldUnregister||r,m=(y,V)=>{const R=b(i._fields,y);R&&(R._f.mount=V)};if(m(t,!0),p){const y=ie(b(i._options.defaultValues,t));K(i._defaultValues,t,y),J(b(i._formValues,t))&&K(i._formValues,t,y)}return()=>{(a?p&&!i._state.action:p)?i.unregister(t):m(t,!1)}},[t,i,a,r]),B.useEffect(()=>{b(i._fields,t)&&i._updateDisabledField({disabled:n,fields:i._fields,name:t,value:b(i._fields,t)._f.value})},[n,t,i]),{field:{name:t,value:l,...Ee(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:B.useCallback(p=>f.current.onChange({target:{value:sn(p),name:t},type:gt.CHANGE}),[t]),onBlur:B.useCallback(()=>f.current.onBlur({target:{value:b(i._formValues,t),name:t},type:gt.BLUR}),[t,i]),ref:p=>{const m=b(i._fields,t);m&&p&&(m._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:y=>p.setCustomValidity(y),reportValidity:()=>p.reportValidity()})}},formState:h,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!b(h.errors,t)},isDirty:{enumerable:!0,get:()=>!!b(h.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!b(h.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!b(h.validatingFields,t)},error:{enumerable:!0,get:()=>b(h.errors,t)}})}}var Vi=(s,e,t,n,i)=>e?{...t[s],types:{...t[s]&&t[s].types?t[s].types:{},[n]:i||!0}}:{},De=()=>{const s=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=(Math.random()*16+s)%16|0;return(e=="x"?t:t&3|8).toString(16)})},Rt=(s,e,t={})=>t.shouldFocus||J(t.shouldFocus)?t.focusName||`${s}.${J(t.focusIndex)?e:t.focusIndex}.`:"",tt=s=>({isOnSubmit:!s||s===be.onSubmit,isOnBlur:s===be.onBlur,isOnChange:s===be.onChange,isOnAll:s===be.all,isOnTouch:s===be.onTouched}),Qt=(s,e,t)=>!t&&(e.watchAll||e.watch.has(s)||[...e.watch].some(n=>s.startsWith(n)&&/^\.\w+/.test(s.slice(n.length))));const qe=(s,e,t,n)=>{for(const i of t||Object.keys(s)){const r=b(s,i);if(r){const{_f:a,...l}=r;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)break;if(a.ref&&e(a.ref,a.name)&&!n)break;qe(l,e)}else re(l)&&qe(l,e)}}};var dn=(s,e,t)=>{const n=Ye(b(s,t));return K(n,"root",e[t]),K(s,t,n),s},os=s=>s.type==="file",Re=s=>typeof s=="function",_t=s=>{if(!us)return!1;const e=s?s.ownerDocument:0;return s instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},dt=s=>Ae(s),hs=s=>s.type==="radio",bt=s=>s instanceof RegExp;const Ts={value:!1,isValid:!1},ws={value:!0,isValid:!0};var fn=s=>{if(Array.isArray(s)){if(s.length>1){const e=s.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!J(s[0].attributes.value)?J(s[0].value)||s[0].value===""?ws:{value:s[0].value,isValid:!0}:ws:Ts}return Ts};const Bs={isValid:!1,value:null};var pn=s=>Array.isArray(s)?s.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Bs):Bs;function Vs(s,e,t="validate"){if(dt(s)||Array.isArray(s)&&s.every(dt)||Ee(s)&&!s)return{type:t,message:dt(s)?s:"",ref:e}}var Ue=s=>re(s)&&!bt(s)?s:{value:s,message:""},es=async(s,e,t,n,i)=>{const{ref:r,refs:a,required:l,maxLength:h,minLength:f,min:p,max:m,pattern:y,validate:V,name:R,valueAsNumber:P,mount:j,disabled:ee}=s._f,F=b(e,R);if(!j||ee)return{};const W=a?a[0]:r,Y=x=>{n&&W.reportValidity&&(W.setCustomValidity(Ee(x)?"":x||""),W.reportValidity())},v={},S=hs(r),I=ut(r),G=S||I,se=(P||os(r))&&J(r.value)&&J(F)||_t(r)&&r.value===""||F===""||Array.isArray(F)&&!F.length,U=Vi.bind(null,R,t,v),de=(x,_,L,N=Te.maxLength,X=Te.minLength)=>{const Q=x?_:L;v[R]={type:x?N:X,message:Q,ref:r,...U(x?N:X,Q)}};if(i?!Array.isArray(F)||!F.length:l&&(!G&&(se||ce(F))||Ee(F)&&!F||I&&!fn(a).isValid||S&&!pn(a).isValid)){const{value:x,message:_}=dt(l)?{value:!!l,message:l}:Ue(l);if(x&&(v[R]={type:Te.required,message:_,ref:W,...U(Te.required,_)},!t))return Y(_),v}if(!se&&(!ce(p)||!ce(m))){let x,_;const L=Ue(m),N=Ue(p);if(!ce(F)&&!isNaN(F)){const X=r.valueAsNumber||F&&+F;ce(L.value)||(x=X>L.value),ce(N.value)||(_=X<N.value)}else{const X=r.valueAsDate||new Date(F),Q=Ie=>new Date(new Date().toDateString()+" "+Ie),ke=r.type=="time",Ce=r.type=="week";Ae(L.value)&&F&&(x=ke?Q(F)>Q(L.value):Ce?F>L.value:X>new Date(L.value)),Ae(N.value)&&F&&(_=ke?Q(F)<Q(N.value):Ce?F<N.value:X<new Date(N.value))}if((x||_)&&(de(!!x,L.message,N.message,Te.max,Te.min),!t))return Y(v[R].message),v}if((h||f)&&!se&&(Ae(F)||i&&Array.isArray(F))){const x=Ue(h),_=Ue(f),L=!ce(x.value)&&F.length>+x.value,N=!ce(_.value)&&F.length<+_.value;if((L||N)&&(de(L,x.message,_.message),!t))return Y(v[R].message),v}if(y&&!se&&Ae(F)){const{value:x,message:_}=Ue(y);if(bt(x)&&!F.match(x)&&(v[R]={type:Te.pattern,message:_,ref:r,...U(Te.pattern,_)},!t))return Y(_),v}if(V){if(Re(V)){const x=await V(F,e),_=Vs(x,W);if(_&&(v[R]={..._,...U(Te.validate,_.message)},!t))return Y(_.message),v}else if(re(V)){let x={};for(const _ in V){if(!pe(x)&&!t)break;const L=Vs(await V[_](F,e),W,_);L&&(x={...L,...U(_,L.message)},Y(L.message),t&&(v[R]=x))}if(!pe(x)&&(v[R]={ref:W,...x},!t))return v}}return Y(!0),v},jt=(s,e)=>[...s,..._e(e)],Ot=s=>Array.isArray(s)?s.map(()=>{}):void 0;function Lt(s,e,t){return[...s.slice(0,e),..._e(t),...s.slice(e)]}var Pt=(s,e,t)=>Array.isArray(s)?(J(s[t])&&(s[t]=void 0),s.splice(t,0,s.splice(e,1)[0]),s):[],Gt=(s,e)=>[..._e(e),..._e(s)];function Ii(s,e){let t=0;const n=[...s];for(const i of e)n.splice(i-t,1),t++;return Ye(n).length?n:[]}var zt=(s,e)=>J(e)?[]:Ii(s,_e(e).sort((t,n)=>t-n)),$t=(s,e,t)=>{[s[e],s[t]]=[s[t],s[e]]};function Di(s,e){const t=e.slice(0,-1).length;let n=0;for(;n<t;)s=J(s)?n++:s[e[n++]];return s}function Ni(s){for(const e in s)if(s.hasOwnProperty(e)&&!J(s[e]))return!1;return!0}function ne(s,e){const t=Array.isArray(e)?e:ls(e)?[e]:cn(e),n=t.length===1?s:Di(s,t),i=t.length-1,r=t[i];return n&&delete n[r],i!==0&&(re(n)&&pe(n)||Array.isArray(n)&&Ni(n))&&ne(s,t.slice(0,-1)),s}var Is=(s,e,t)=>(s[e]=t,s);function mn(s){const e=Fe(),{control:t=e.control,name:n,keyName:i="id",shouldUnregister:r}=s,[a,l]=B.useState(t._getFieldArray(n)),h=B.useRef(t._getFieldArray(n).map(De)),f=B.useRef(a),p=B.useRef(n),m=B.useRef(!1);p.current=n,f.current=a,t._names.array.add(n),s.rules&&t.register(n,s.rules),Ft({next:({values:v,name:S})=>{if(S===p.current||!S){const I=b(v,p.current);Array.isArray(I)&&(l(I),h.current=I.map(De))}},subject:t._subjects.array});const y=B.useCallback(v=>{m.current=!0,t._updateFieldArray(n,v)},[t,n]),V=(v,S)=>{const I=_e(ie(v)),G=jt(t._getFieldArray(n),I);t._names.focus=Rt(n,G.length-1,S),h.current=jt(h.current,I.map(De)),y(G),l(G),t._updateFieldArray(n,G,jt,{argA:Ot(v)})},R=(v,S)=>{const I=_e(ie(v)),G=Gt(t._getFieldArray(n),I);t._names.focus=Rt(n,0,S),h.current=Gt(h.current,I.map(De)),y(G),l(G),t._updateFieldArray(n,G,Gt,{argA:Ot(v)})},P=v=>{const S=zt(t._getFieldArray(n),v);h.current=zt(h.current,v),y(S),l(S),t._updateFieldArray(n,S,zt,{argA:v})},j=(v,S,I)=>{const G=_e(ie(S)),se=Lt(t._getFieldArray(n),v,G);t._names.focus=Rt(n,v,I),h.current=Lt(h.current,v,G.map(De)),y(se),l(se),t._updateFieldArray(n,se,Lt,{argA:v,argB:Ot(S)})},ee=(v,S)=>{const I=t._getFieldArray(n);$t(I,v,S),$t(h.current,v,S),y(I),l(I),t._updateFieldArray(n,I,$t,{argA:v,argB:S},!1)},F=(v,S)=>{const I=t._getFieldArray(n);Pt(I,v,S),Pt(h.current,v,S),y(I),l(I),t._updateFieldArray(n,I,Pt,{argA:v,argB:S},!1)},W=(v,S)=>{const I=ie(S),G=Is(t._getFieldArray(n),v,I);h.current=[...G].map((se,U)=>!se||U===v?De():h.current[U]),y(G),l([...G]),t._updateFieldArray(n,G,Is,{argA:v,argB:I},!0,!1)},Y=v=>{const S=_e(ie(v));h.current=S.map(De),y([...S]),l([...S]),t._updateFieldArray(n,[...S],I=>I,{},!0,!1)};return B.useEffect(()=>{if(t._state.action=!1,Qt(n,t._names)&&t._subjects.state.next({...t._formState}),m.current&&(!tt(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([n]).then(v=>{const S=b(v.errors,n),I=b(t._formState.errors,n);(I?!S&&I.type||S&&(I.type!==S.type||I.message!==S.message):S&&S.type)&&(S?K(t._formState.errors,n,S):ne(t._formState.errors,n),t._subjects.state.next({errors:t._formState.errors}))});else{const v=b(t._fields,n);v&&v._f&&!(tt(t._options.reValidateMode).isOnSubmit&&tt(t._options.mode).isOnSubmit)&&es(v,t._formValues,t._options.criteriaMode===be.all,t._options.shouldUseNativeValidation,!0).then(S=>!pe(S)&&t._subjects.state.next({errors:dn(t._formState.errors,S,n)}))}t._subjects.values.next({name:n,values:{...t._formValues}}),t._names.focus&&qe(t._fields,(v,S)=>{if(t._names.focus&&S.startsWith(t._names.focus)&&v.focus)return v.focus(),1}),t._names.focus="",t._updateValid(),m.current=!1},[a,n,t]),B.useEffect(()=>(!b(t._formValues,n)&&t._updateFieldArray(n),()=>{(t._options.shouldUnregister||r)&&t.unregister(n)}),[n,t,i,r]),{swap:B.useCallback(ee,[y,n,t]),move:B.useCallback(F,[y,n,t]),prepend:B.useCallback(R,[y,n,t]),append:B.useCallback(V,[y,n,t]),remove:B.useCallback(P,[y,n,t]),insert:B.useCallback(j,[y,n,t]),update:B.useCallback(W,[y,n,t]),replace:B.useCallback(Y,[y,n,t]),fields:B.useMemo(()=>a.map((v,S)=>({...v,[i]:h.current[S]||De()})),[a,i])}}var Ut=()=>{let s=[];return{get observers(){return s},next:i=>{for(const r of s)r.next&&r.next(i)},subscribe:i=>(s.push(i),{unsubscribe:()=>{s=s.filter(r=>r!==i)}}),unsubscribe:()=>{s=[]}}},kt=s=>ce(s)||!tn(s);function Pe(s,e){if(kt(s)||kt(e))return s===e;if(Ke(s)&&Ke(e))return s.getTime()===e.getTime();const t=Object.keys(s),n=Object.keys(e);if(t.length!==n.length)return!1;for(const i of t){const r=s[i];if(!n.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Ke(r)&&Ke(a)||re(r)&&re(a)||Array.isArray(r)&&Array.isArray(a)?!Pe(r,a):r!==a)return!1}}return!0}var gn=s=>s.type==="select-multiple",Ri=s=>hs(s)||ut(s),Ht=s=>_t(s)&&s.isConnected,_n=s=>{for(const e in s)if(Re(s[e]))return!0;return!1};function vt(s,e={}){const t=Array.isArray(s);if(re(s)||t)for(const n in s)Array.isArray(s[n])||re(s[n])&&!_n(s[n])?(e[n]=Array.isArray(s[n])?[]:{},vt(s[n],e[n])):ce(s[n])||(e[n]=!0);return e}function bn(s,e,t){const n=Array.isArray(s);if(re(s)||n)for(const i in s)Array.isArray(s[i])||re(s[i])&&!_n(s[i])?J(e)||kt(t[i])?t[i]=Array.isArray(s[i])?vt(s[i],[]):{...vt(s[i])}:bn(s[i],ce(e)?{}:e[i],t[i]):t[i]=!Pe(s[i],e[i]);return t}var lt=(s,e)=>bn(s,e,vt(e)),kn=(s,{valueAsNumber:e,valueAsDate:t,setValueAs:n})=>J(s)?s:e?s===""?NaN:s&&+s:t&&Ae(s)?new Date(s):n?n(s):s;function Kt(s){const e=s.ref;if(!(s.refs?s.refs.every(t=>t.disabled):e.disabled))return os(e)?e.files:hs(e)?pn(s.refs).value:gn(e)?[...e.selectedOptions].map(({value:t})=>t):ut(e)?fn(s.refs).value:kn(J(e.value)?s.ref.value:e.value,s)}var ji=(s,e,t,n)=>{const i={};for(const r of s){const a=b(e,r);a&&K(i,r,a._f)}return{criteriaMode:t,names:[...s],fields:i,shouldUseNativeValidation:n}},Qe=s=>J(s)?s:bt(s)?s.source:re(s)?bt(s.value)?s.value.source:s.value:s,Oi=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate);function Ds(s,e,t){const n=b(s,t);if(n||ls(t))return{error:n,name:t};const i=t.split(".");for(;i.length;){const r=i.join("."),a=b(e,r),l=b(s,r);if(a&&!Array.isArray(a)&&t!==r)return{name:t};if(l&&l.type)return{name:r,error:l};i.pop()}return{name:t}}var Li=(s,e,t,n,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||s):(t?n.isOnBlur:i.isOnBlur)?!s:(t?n.isOnChange:i.isOnChange)?s:!0,Pi=(s,e)=>!Ye(b(s,e)).length&&ne(s,e);const Gi={mode:be.onSubmit,reValidateMode:be.onChange,shouldFocusError:!0};function zi(s={}){let e={...Gi,...s},t={submitCount:0,isDirty:!1,isLoading:Re(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=re(e.defaultValues)||re(e.values)?ie(e.defaultValues||e.values)||{}:{},r=e.shouldUnregister?{}:ie(i),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:Ut(),array:Ut(),state:Ut()},y=tt(e.mode),V=tt(e.reValidateMode),R=e.criteriaMode===be.all,P=o=>c=>{clearTimeout(f),f=setTimeout(o,c)},j=async o=>{if(p.isValid||o){const c=e.resolver?pe((await G()).errors):await U(n,!0);c!==t.isValid&&m.state.next({isValid:c})}},ee=(o,c)=>{(p.isValidating||p.validatingFields)&&((o||Array.from(l.mount)).forEach(d=>d&&K(t.validatingFields,d,!!c)),t.isValidating=Object.values(t.validatingFields).some(d=>d),m.state.next({validatingFields:t.validatingFields,isValidating:t.isValidating}))},F=(o,c=[],d,A,E=!0,k=!0)=>{if(A&&d){if(a.action=!0,k&&Array.isArray(b(n,o))){const w=d(b(n,o),A.argA,A.argB);E&&K(n,o,w)}if(k&&Array.isArray(b(t.errors,o))){const w=d(b(t.errors,o),A.argA,A.argB);E&&K(t.errors,o,w),Pi(t.errors,o)}if(p.touchedFields&&k&&Array.isArray(b(t.touchedFields,o))){const w=d(b(t.touchedFields,o),A.argA,A.argB);E&&K(t.touchedFields,o,w)}p.dirtyFields&&(t.dirtyFields=lt(i,r)),m.state.next({name:o,isDirty:x(o,c),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else K(r,o,c)},W=(o,c)=>{K(t.errors,o,c),m.state.next({errors:t.errors})},Y=o=>{t.errors=o,m.state.next({errors:t.errors,isValid:!1})},v=(o,c,d,A)=>{const E=b(n,o);if(E){const k=b(r,o,J(d)?b(i,o):d);J(k)||A&&A.defaultChecked||c?K(r,o,c?k:Kt(E._f)):N(o,k),a.mount&&j()}},S=(o,c,d,A,E)=>{let k=!1,w=!1;const H={name:o},ae=!!(b(n,o)&&b(n,o)._f.disabled);if(!d||A){p.isDirty&&(w=t.isDirty,t.isDirty=H.isDirty=x(),k=w!==H.isDirty);const fe=ae||Pe(b(i,o),c);w=!!(!ae&&b(t.dirtyFields,o)),fe||ae?ne(t.dirtyFields,o):K(t.dirtyFields,o,!0),H.dirtyFields=t.dirtyFields,k=k||p.dirtyFields&&w!==!fe}if(d){const fe=b(t.touchedFields,o);fe||(K(t.touchedFields,o,d),H.touchedFields=t.touchedFields,k=k||p.touchedFields&&fe!==d)}return k&&E&&m.state.next(H),k?H:{}},I=(o,c,d,A)=>{const E=b(t.errors,o),k=p.isValid&&Ee(c)&&t.isValid!==c;if(s.delayError&&d?(h=P(()=>W(o,d)),h(s.delayError)):(clearTimeout(f),h=null,d?K(t.errors,o,d):ne(t.errors,o)),(d?!Pe(E,d):E)||!pe(A)||k){const w={...A,...k&&Ee(c)?{isValid:c}:{},errors:t.errors,name:o};t={...t,...w},m.state.next(w)}},G=async o=>{ee(o,!0);const c=await e.resolver(r,e.context,ji(o||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return ee(o),c},se=async o=>{const{errors:c}=await G(o);if(o)for(const d of o){const A=b(c,d);A?K(t.errors,d,A):ne(t.errors,d)}else t.errors=c;return c},U=async(o,c,d={valid:!0})=>{for(const A in o){const E=o[A];if(E){const{_f:k,...w}=E;if(k){const H=l.array.has(k.name);ee([A],!0);const ae=await es(E,r,R,e.shouldUseNativeValidation&&!c,H);if(ee([A]),ae[k.name]&&(d.valid=!1,c))break;!c&&(b(ae,k.name)?H?dn(t.errors,ae,k.name):K(t.errors,k.name,ae[k.name]):ne(t.errors,k.name))}w&&await U(w,c,d)}}return d.valid},de=()=>{for(const o of l.unMount){const c=b(n,o);c&&(c._f.refs?c._f.refs.every(d=>!Ht(d)):!Ht(c._f.ref))&&he(o)}l.unMount=new Set},x=(o,c)=>(o&&c&&K(r,o,c),!Pe(te(),i)),_=(o,c,d)=>on(o,l,{...a.mount?r:J(c)?i:Ae(o)?{[o]:c}:c},d,c),L=o=>Ye(b(a.mount?r:i,o,s.shouldUnregister?b(i,o,[]):[])),N=(o,c,d={})=>{const A=b(n,o);let E=c;if(A){const k=A._f;k&&(!k.disabled&&K(r,o,kn(c,k)),E=_t(k.ref)&&ce(c)?"":c,gn(k.ref)?[...k.ref.options].forEach(w=>w.selected=E.includes(w.value)):k.refs?ut(k.ref)?k.refs.length>1?k.refs.forEach(w=>(!w.defaultChecked||!w.disabled)&&(w.checked=Array.isArray(E)?!!E.find(H=>H===w.value):E===w.value)):k.refs[0]&&(k.refs[0].checked=!!E):k.refs.forEach(w=>w.checked=w.value===E):os(k.ref)?k.ref.value="":(k.ref.value=E,k.ref.type||m.values.next({name:o,values:{...r}})))}(d.shouldDirty||d.shouldTouch)&&S(o,E,d.shouldTouch,d.shouldDirty,!0),d.shouldValidate&&Ie(o)},X=(o,c,d)=>{for(const A in c){const E=c[A],k=`${o}.${A}`,w=b(n,k);(l.array.has(o)||!kt(E)||w&&!w._f)&&!Ke(E)?X(k,E,d):N(k,E,d)}},Q=(o,c,d={})=>{const A=b(n,o),E=l.array.has(o),k=ie(c);K(r,o,k),E?(m.array.next({name:o,values:{...r}}),(p.isDirty||p.dirtyFields)&&d.shouldDirty&&m.state.next({name:o,dirtyFields:lt(i,r),isDirty:x(o,k)})):A&&!A._f&&!ce(k)?X(o,k,d):N(o,k,d),Qt(o,l)&&m.state.next({...t}),m.values.next({name:a.mount?o:void 0,values:{...r}})},ke=async o=>{const c=o.target;let d=c.name,A=!0;const E=b(n,d),k=()=>c.type?Kt(E._f):sn(o),w=H=>{A=Number.isNaN(H)||H===b(r,d,H)};if(E){let H,ae;const fe=k(),$e=o.type===gt.BLUR||o.type===gt.FOCUS_OUT,Ln=!Oi(E._f)&&!e.resolver&&!b(t.errors,d)&&!E._f.deps||Li($e,b(t.touchedFields,d),t.isSubmitted,V,y),Vt=Qt(d,l,$e);K(r,d,fe),$e?(E._f.onBlur&&E._f.onBlur(o),h&&h(0)):E._f.onChange&&E._f.onChange(o);const It=S(d,fe,$e,!1),Pn=!pe(It)||Vt;if(!$e&&m.values.next({name:d,type:o.type,values:{...r}}),Ln)return p.isValid&&j(),Pn&&m.state.next({name:d,...Vt?{}:It});if(!$e&&Vt&&m.state.next({...t}),e.resolver){const{errors:ms}=await G([d]);if(w(fe),A){const Gn=Ds(t.errors,n,d),gs=Ds(ms,n,Gn.name||d);H=gs.error,d=gs.name,ae=pe(ms)}}else ee([d],!0),H=(await es(E,r,R,e.shouldUseNativeValidation))[d],ee([d]),w(fe),A&&(H?ae=!1:p.isValid&&(ae=await U(n,!0)));A&&(E._f.deps&&Ie(E._f.deps),I(d,ae,H,It))}},Ce=(o,c)=>{if(b(t.errors,c)&&o.focus)return o.focus(),1},Ie=async(o,c={})=>{let d,A;const E=_e(o);if(e.resolver){const k=await se(J(o)?o:E);d=pe(k),A=o?!E.some(w=>b(k,w)):d}else o?(A=(await Promise.all(E.map(async k=>{const w=b(n,k);return await U(w&&w._f?{[k]:w}:w)}))).every(Boolean),!(!A&&!t.isValid)&&j()):A=d=await U(n);return m.state.next({...!Ae(o)||p.isValid&&d!==t.isValid?{}:{name:o},...e.resolver||!o?{isValid:d}:{},errors:t.errors}),c.shouldFocus&&!A&&qe(n,Ce,o?E:l.mount),A},te=o=>{const c={...i,...a.mount?r:{}};return J(o)?c:Ae(o)?b(c,o):o.map(d=>b(c,d))},Me=(o,c)=>({invalid:!!b((c||t).errors,o),isDirty:!!b((c||t).dirtyFields,o),isTouched:!!b((c||t).touchedFields,o),isValidating:!!b((c||t).validatingFields,o),error:b((c||t).errors,o)}),C=o=>{o&&_e(o).forEach(c=>ne(t.errors,c)),m.state.next({errors:o?t.errors:{}})},z=(o,c,d)=>{const A=(b(n,o,{_f:{}})._f||{}).ref;K(t.errors,o,{...c,ref:A}),m.state.next({name:o,errors:t.errors,isValid:!1}),d&&d.shouldFocus&&A&&A.focus&&A.focus()},ue=(o,c)=>Re(o)?m.values.subscribe({next:d=>o(_(void 0,c),d)}):_(o,c,!0),he=(o,c={})=>{for(const d of o?_e(o):l.mount)l.mount.delete(d),l.array.delete(d),c.keepValue||(ne(n,d),ne(r,d)),!c.keepError&&ne(t.errors,d),!c.keepDirty&&ne(t.dirtyFields,d),!c.keepTouched&&ne(t.touchedFields,d),!c.keepIsValidating&&ne(t.validatingFields,d),!e.shouldUnregister&&!c.keepDefaultValue&&ne(i,d);m.values.next({values:{...r}}),m.state.next({...t,...c.keepDirty?{isDirty:x()}:{}}),!c.keepIsValid&&j()},ye=({disabled:o,name:c,field:d,fields:A,value:E})=>{if(Ee(o)){const k=o?void 0:J(E)?Kt(d?d._f:b(A,c)._f):E;K(r,c,k),S(c,k,!1,!1,!0)}},Oe=(o,c={})=>{let d=b(n,o);const A=Ee(c.disabled);return K(n,o,{...d||{},_f:{...d&&d._f?d._f:{ref:{name:o}},name:o,mount:!0,...c}}),l.mount.add(o),d?ye({field:d,disabled:c.disabled,name:o,value:c.value}):v(o,!0,c.value),{...A?{disabled:c.disabled}:{},...e.progressive?{required:!!c.required,min:Qe(c.min),max:Qe(c.max),minLength:Qe(c.minLength),maxLength:Qe(c.maxLength),pattern:Qe(c.pattern)}:{},name:o,onChange:ke,onBlur:ke,ref:E=>{if(E){Oe(o,c),d=b(n,o);const k=J(E.value)&&E.querySelectorAll&&E.querySelectorAll("input,select,textarea")[0]||E,w=Ri(k),H=d._f.refs||[];if(w?H.find(ae=>ae===k):k===d._f.ref)return;K(n,o,{_f:{...d._f,...w?{refs:[...H.filter(Ht),k,...Array.isArray(b(i,o))?[{}]:[]],ref:{type:k.type,name:o}}:{ref:k}}}),v(o,!1,void 0,k)}else d=b(n,o,{}),d._f&&(d._f.mount=!1),(e.shouldUnregister||c.shouldUnregister)&&!(nn(l.array,o)&&a.action)&&l.unMount.add(o)}}},Xe=()=>e.shouldFocusError&&qe(n,Ce,l.mount),Bt=o=>{Ee(o)&&(m.state.next({disabled:o}),qe(n,(c,d)=>{let A=o;const E=b(n,d);E&&Ee(E._f.disabled)&&(A||(A=E._f.disabled)),c.disabled=A},0,!1))},ds=(o,c)=>async d=>{let A;d&&(d.preventDefault&&d.preventDefault(),d.persist&&d.persist());let E=ie(r);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:k,values:w}=await G();t.errors=k,E=w}else await U(n);if(ne(t.errors,"root"),pe(t.errors)){m.state.next({errors:{}});try{await o(E,d)}catch(k){A=k}}else c&&await c({...t.errors},d),Xe(),setTimeout(Xe);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pe(t.errors)&&!A,submitCount:t.submitCount+1,errors:t.errors}),A)throw A},On=(o,c={})=>{b(n,o)&&(J(c.defaultValue)?Q(o,ie(b(i,o))):(Q(o,c.defaultValue),K(i,o,ie(c.defaultValue))),c.keepTouched||ne(t.touchedFields,o),c.keepDirty||(ne(t.dirtyFields,o),t.isDirty=c.defaultValue?x(o,ie(b(i,o))):x()),c.keepError||(ne(t.errors,o),p.isValid&&j()),m.state.next({...t}))},fs=(o,c={})=>{const d=o?ie(o):i,A=ie(d),E=pe(o),k=E?i:A;if(c.keepDefaultValues||(i=d),!c.keepValues){if(c.keepDirtyValues)for(const w of l.mount)b(t.dirtyFields,w)?K(k,w,b(r,w)):Q(w,b(k,w));else{if(us&&J(o))for(const w of l.mount){const H=b(n,w);if(H&&H._f){const ae=Array.isArray(H._f.refs)?H._f.refs[0]:H._f.ref;if(_t(ae)){const fe=ae.closest("form");if(fe){fe.reset();break}}}}n={}}r=s.shouldUnregister?c.keepDefaultValues?ie(i):{}:ie(k),m.array.next({values:{...k}}),m.values.next({values:{...k}})}l={mount:c.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!p.isValid||!!c.keepIsValid||!!c.keepDirtyValues,a.watch=!!s.shouldUnregister,m.state.next({submitCount:c.keepSubmitCount?t.submitCount:0,isDirty:E?!1:c.keepDirty?t.isDirty:!!(c.keepDefaultValues&&!Pe(o,i)),isSubmitted:c.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:E?[]:c.keepDirtyValues?c.keepDefaultValues&&r?lt(i,r):t.dirtyFields:c.keepDefaultValues&&o?lt(i,o):{},touchedFields:c.keepTouched?t.touchedFields:{},errors:c.keepErrors?t.errors:{},isSubmitSuccessful:c.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},ps=(o,c)=>fs(Re(o)?o(r):o,c);return{control:{register:Oe,unregister:he,getFieldState:Me,handleSubmit:ds,setError:z,_executeSchema:G,_getWatch:_,_getDirty:x,_updateValid:j,_removeUnmounted:de,_updateFieldArray:F,_updateDisabledField:ye,_getFieldArray:L,_reset:fs,_resetDefaultValues:()=>Re(e.defaultValues)&&e.defaultValues().then(o=>{ps(o,e.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:o=>{t={...t,...o}},_disableForm:Bt,_subjects:m,_proxyFormState:p,_setErrors:Y,get _fields(){return n},get _formValues(){return r},get _state(){return a},set _state(o){a=o},get _defaultValues(){return i},get _names(){return l},set _names(o){l=o},get _formState(){return t},set _formState(o){t=o},get _options(){return e},set _options(o){e={...e,...o}}},trigger:Ie,register:Oe,handleSubmit:ds,watch:ue,setValue:Q,getValues:te,reset:ps,resetField:On,clearErrors:C,unregister:he,setError:z,setFocus:(o,c={})=>{const d=b(n,o),A=d&&d._f;if(A){const E=A.refs?A.refs[0]:A.ref;E.focus&&(E.focus(),c.shouldSelect&&E.select())}},getFieldState:Me}}function sa(s={}){const e=B.useRef(),t=B.useRef(),[n,i]=B.useState({isDirty:!1,isValidating:!1,isLoading:Re(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,defaultValues:Re(s.defaultValues)?void 0:s.defaultValues});e.current||(e.current={...zi(s),formState:n});const r=e.current.control;return r._options=s,Ft({subject:r._subjects.state,next:a=>{un(a,r._proxyFormState,r._updateFormState,!0)&&i({...r._formState})}}),B.useEffect(()=>r._disableForm(s.disabled),[r,s.disabled]),B.useEffect(()=>{if(r._proxyFormState.isDirty){const a=r._getDirty();a!==n.isDirty&&r._subjects.state.next({isDirty:a})}},[r,n.isDirty]),B.useEffect(()=>{s.values&&!Pe(s.values,t.current)?(r._reset(s.values,r._options.resetOptions),t.current=s.values,i(a=>({...a}))):r._resetDefaultValues()},[s.values,r]),B.useEffect(()=>{s.errors&&r._setErrors(s.errors)},[s.errors,r]),B.useEffect(()=>{r._state.mount||(r._updateValid(),r._state.mount=!0),r._state.watch&&(r._state.watch=!1,r._subjects.state.next({...r._formState})),r._removeUnmounted()}),B.useEffect(()=>{s.shouldUnregister&&r._subjects.values.next({values:r._getWatch()})},[s.shouldUnregister,r]),e.current.formState=an(n,r),e.current}function ot({register:s,registerOptions:e,name:t,label:n,errors:i,onChange:r,info:a}){let l=!1,h="";if(typeof i=="boolean")l=i;else{const p=b(i,t);p&&(l=!!p,h=p.message||"")}const f=p=>{r&&r(p.currentTarget.checked)};return u.jsxs("div",{className:g("custom-checkbox"),children:[u.jsxs("div",{children:[u.jsx("input",{...s(t,e),type:"checkbox",className:$(g("custom-checkbox__input"),l&&g("custom-checkbox__input--error")),id:t,onClick:f,"aria-invalid":l,"aria-describedby":h&&`${t}-error`?h&&`${t}-error`:void 0}),u.jsx("label",{className:$(g("custom-checkbox__label"),l&&g("custom-checkbox__label--error")),htmlFor:t,children:n}),!!h&&u.jsx(rt,{id:`${t}-error`,error:!0,children:h})]}),!!a&&u.jsx(We,{info:a})]})}function ts({register:s,registerOptions:e,name:t,options:n,errors:i,required:r,info:a}){const l=b(i,t);return u.jsxs("div",{className:g("custom-radio"),children:[u.jsx("div",{role:"radiogroup",className:g("custom-radio__options"),children:n.map((h,f)=>u.jsxs("div",{className:g("custom-radio__option"),children:[Z.createElement("input",{...s(t,e),className:$(g("custom-radio__input"),l&&g("custom-radio__input--error")),type:"radio",id:t+"_option_"+f,"data-testid":t+"_option_"+f,value:h.value,key:t+"_option_"+f,"aria-describedby":l?`${t}-error`:void 0,required:r}),u.jsx("label",{className:$(g("custom-radio__label"),l&&g("custom-radio__label--error")),htmlFor:t+"_option_"+f,children:h.label},t+"_label_"+f),n.length-1===f&&!!l&&u.jsx(rt,{id:`${t}-error`,error:!0,children:l.message})]},t+"_option_"+f))}),!!a&&u.jsx(We,{info:a})]})}const Be=s=>s.map(e=>({label:e.label,value:e.value,hidden:e.hidden}));function nt({register:s,registerOptions:e,name:t,label:n,errors:i,options:r,autoWidth:a,required:l,disabled:h,info:f,...p}){const m=b(i,t);return u.jsxs("div",{className:$(g("custom-select"),a&&g("custom-select--auto-width")),children:[u.jsxs("div",{className:g("custom-select-question"),children:[u.jsx("label",{className:g("custom-select-question__label"),htmlFor:t,children:n}),u.jsx("div",{className:g("custom-select-question__control"),children:u.jsxs("select",{...s(t,e),className:$(g("custom-select-question__input"),m&&g("custom-select-question__input--error")),id:t,disabled:h,"aria-invalid":!!m,"aria-describedby":m?`${t}-error`:void 0,required:l,...p,children:[u.jsx("option",{className:g("custom-select-question__option"),value:"",disabled:l,hidden:l,children:"Bitte wählen"}),r.map(y=>u.jsx("option",{className:g("custom-select-question__option"),value:y.value,hidden:y.hidden,children:y.label},y.value))]})}),!!m&&u.jsx(rt,{id:`${t}-error`,error:!0,children:m.message})]}),!!f&&u.jsx(We,{info:f})]})}function ge({headline:s,description:e,info:t,children:n,...i}){return u.jsxs("section",{"aria-label":s,"aria-roledescription":e,className:g("form-field-group"),...i,children:[!!s&&u.jsx("h3",{className:"mb-10",children:s}),!!e&&u.jsxs("div",{className:g("form-field-group-description"),children:[u.jsx("p",{className:g("form-field-group-description__text"),children:e}),!!t&&u.jsx(We,{info:t})]}),n]})}function je(s){return typeof s=="string"||s instanceof String}function Ns(s){var e;return typeof s=="object"&&s!=null&&(s==null||(e=s.constructor)==null?void 0:e.name)==="Object"}function vn(s,e){return Array.isArray(e)?vn(s,(t,n)=>e.includes(n)):Object.entries(s).reduce((t,n)=>{let[i,r]=n;return e(r,i)&&(t[i]=r),t},{})}const T={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function $i(s){switch(s){case T.LEFT:return T.FORCE_LEFT;case T.RIGHT:return T.FORCE_RIGHT;default:return s}}function qt(s){return s.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function Et(s,e){if(e===s)return!0;const t=Array.isArray(e),n=Array.isArray(s);let i;if(t&&n){if(e.length!=s.length)return!1;for(i=0;i<e.length;i++)if(!Et(e[i],s[i]))return!1;return!0}if(t!=n)return!1;if(e&&s&&typeof e=="object"&&typeof s=="object"){const r=e instanceof Date,a=s instanceof Date;if(r&&a)return e.getTime()==s.getTime();if(r!=a)return!1;const l=e instanceof RegExp,h=s instanceof RegExp;if(l&&h)return e.toString()==s.toString();if(l!=h)return!1;const f=Object.keys(e);for(i=0;i<f.length;i++)if(!Object.prototype.hasOwnProperty.call(s,f[i]))return!1;for(i=0;i<f.length;i++)if(!Et(s[f[i]],e[f[i]]))return!1;return!0}else if(e&&s&&typeof e=="function"&&typeof s=="function")return e.toString()===s.toString();return!1}class Ui{constructor(e){for(Object.assign(this,e);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?T.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?T.RIGHT:T.LEFT}}function D(s,e){return new D.InputMask(s,e)}function En(s){if(s==null)throw new Error("mask property should be defined");return s instanceof RegExp?D.MaskedRegExp:je(s)?D.MaskedPattern:s===Date?D.MaskedDate:s===Number?D.MaskedNumber:Array.isArray(s)||s===Array?D.MaskedDynamic:D.Masked&&s.prototype instanceof D.Masked?s:D.Masked&&s instanceof D.Masked?s.constructor:s instanceof Function?D.MaskedFunction:(console.warn("Mask not found for mask",s),D.Masked)}function it(s){if(!s)throw new Error("Options in not defined");if(D.Masked){if(s.prototype instanceof D.Masked)return{mask:s};const{mask:e=void 0,...t}=s instanceof D.Masked?{mask:s}:Ns(s)&&s.mask instanceof D.Masked?s:{};if(e){const n=e.mask;return{...vn(e,(i,r)=>!r.startsWith("_")),mask:e.constructor,_mask:n,...t}}}return Ns(s)?{...s}:{mask:s}}function Ve(s){if(D.Masked&&s instanceof D.Masked)return s;const e=it(s),t=En(e.mask);if(!t)throw new Error("Masked class is not found for provided mask "+e.mask+", appropriate module needs to be imported manually before creating mask.");return e.mask===t&&delete e.mask,e._mask&&(e.mask=e._mask,delete e._mask),new t(e)}D.createMask=Ve;class cs{get selectionStart(){let e;try{e=this._unsafeSelectionStart}catch{}return e??this.value.length}get selectionEnd(){let e;try{e=this._unsafeSelectionEnd}catch{}return e??this.value.length}select(e,t){if(!(e==null||t==null||e===this.selectionStart&&t===this.selectionEnd))try{this._unsafeSelect(e,t)}catch{}}get isActive(){return!1}}D.MaskElement=cs;const Rs=90,Hi=89;class Ct extends cs{constructor(e){super(),this.input=e,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var e,t,n;return(e=(t=(n=this.input).getRootNode)==null?void 0:t.call(n))!=null?e:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(e){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",e.drop),this.input.addEventListener("click",e.click),this.input.addEventListener("focus",e.focus),this.input.addEventListener("blur",e.commit),this._handlers=e}_onKeydown(e){if(this._handlers.redo&&(e.keyCode===Rs&&e.shiftKey&&(e.metaKey||e.ctrlKey)||e.keyCode===Hi&&e.ctrlKey))return e.preventDefault(),this._handlers.redo(e);if(this._handlers.undo&&e.keyCode===Rs&&(e.metaKey||e.ctrlKey))return e.preventDefault(),this._handlers.undo(e);e.isComposing||this._handlers.selectionChange(e)}_onBeforeinput(e){if(e.inputType==="historyUndo"&&this._handlers.undo)return e.preventDefault(),this._handlers.undo(e);if(e.inputType==="historyRedo"&&this._handlers.redo)return e.preventDefault(),this._handlers.redo(e)}_onCompositionEnd(e){this._handlers.input(e)}_onInput(e){e.isComposing||this._handlers.input(e)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}D.HTMLMaskElement=Ct;class Ki extends Ct{constructor(e){super(e),this.input=e}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(e,t){this.input.setSelectionRange(e,t)}get value(){return this.input.value}set value(e){this.input.value=e}}D.HTMLMaskElement=Ct;class xn extends Ct{get _unsafeSelectionStart(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),n=t&&t.anchorOffset,i=t&&t.focusOffset;return i==null||n==null||n<i?n:i}get _unsafeSelectionEnd(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),n=t&&t.anchorOffset,i=t&&t.focusOffset;return i==null||n==null||n>i?n:i}_unsafeSelect(e,t){if(!this.rootElement.createRange)return;const n=this.rootElement.createRange();n.setStart(this.input.firstChild||this.input,e),n.setEnd(this.input.lastChild||this.input,t);const i=this.rootElement,r=i.getSelection&&i.getSelection();r&&(r.removeAllRanges(),r.addRange(n))}get value(){return this.input.textContent||""}set value(e){this.input.textContent=e}}D.HTMLContenteditableMaskElement=xn;class Mt{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return this.states.length===0}push(e){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(e),this.states.length>Mt.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(e){return this.currentIndex=Math.min(Math.max(this.currentIndex+e,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}Mt.MAX_LENGTH=100;class qi{constructor(e,t){this.el=e instanceof cs?e:e.isContentEditable&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"?new xn(e):new Ki(e),this.masked=Ve(t),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new Mt,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(e){var t;return e==null||((t=this.masked)==null?void 0:t.maskEquals(e))}get mask(){return this.masked.mask}set mask(e){if(this.maskEquals(e))return;if(!(e instanceof D.Masked)&&this.masked.constructor===En(e)){this.masked.updateOptions({mask:e});return}const t=e instanceof D.Masked?e:Ve({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}get value(){return this._value}set value(e){this.value!==e&&(this.masked.value=e,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(e){this.unmaskedValue!==e&&(this.masked.unmaskedValue=e,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(e){this.rawInputValue!==e&&(this.masked.rawInputValue=e,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(e){this.masked.typedValueEquals(e)||(this.masked.typedValue=e,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(e,t){const n=this._listeners[e];n&&n.forEach(i=>i(t))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(e){!this.el||!this.el.isActive||(this.el.select(e,e),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value}updateControl(e){const t=this.masked.unmaskedValue,n=this.masked.value,i=this.masked.rawInputValue,r=this.displayValue,a=this.unmaskedValue!==t||this.value!==n||this._rawInputValue!==i;this._unmaskedValue=t,this._value=n,this._rawInputValue=i,this.el.value!==r&&(this.el.value=r),e==="auto"?this.alignCursor():e!=null&&(this.cursorPos=e),a&&this._fireChangeEvents(),!this._historyChanging&&(a||this.history.isEmpty)&&this.history.push({unmaskedValue:t,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(e){const{mask:t,...n}=e,i=!this.maskEquals(t),r=this.masked.optionsIsChanged(n);i&&(this.mask=t),r&&this.masked.updateOptions(n),(i||r)&&this.updateControl()}updateCursor(e){e!=null&&(this.cursorPos=e,this._delayUpdateCursor(e))}_delayUpdateCursor(e){this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,T.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}off(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;const n=this._listeners[e].indexOf(t);return n>=0&&this._listeners[e].splice(n,1),this}_onInput(e){this._inputEvent=e,this._abortUpdateCursor();const t=new Ui({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),n=this.masked.rawInputValue,i=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection,{input:!0,raw:!0}).offset,r=n===this.masked.rawInputValue?t.removeDirection:T.NONE;let a=this.masked.nearestInputPos(t.startChangePos+i,r);r!==T.NONE&&(a=this.masked.nearestInputPos(a,T.NONE)),this.updateControl(a),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(e){e.preventDefault(),e.stopPropagation()}_onFocus(e){this.alignCursorFriendly()}_onClick(e){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(e){e&&(this._historyChanging=!0,this.unmaskedValue=e.unmaskedValue,this.el.select(e.selection.start,e.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}}D.InputMask=qi;class O{static normalize(e){return Array.isArray(e)?e:[e,new O]}constructor(e){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},e)}aggregate(e){return this.inserted+=e.inserted,this.rawInserted+=e.rawInserted,this.tailShift+=e.tailShift,this.skip=this.skip||e.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return!!this.rawInserted||this.skip}equals(e){return this.inserted===e.inserted&&this.tailShift===e.tailShift&&this.rawInserted===e.rawInserted&&this.skip===e.skip}}D.ChangeDetails=O;class Se{constructor(e,t,n){e===void 0&&(e=""),t===void 0&&(t=0),this.value=e,this.from=t,this.stop=n}toString(){return this.value}extend(e){this.value+=String(e)}appendTo(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(e){Object.assign(this,e)}unshift(e){if(!this.value.length||e!=null&&this.from>=e)return"";const t=this.value[0];return this.value=this.value.slice(1),t}shift(){if(!this.value.length)return"";const e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}}class le{constructor(e){this._value="",this._update({...le.DEFAULTS,...e}),this._initialized=!0}updateOptions(e){this.optionsIsChanged(e)&&this.withValueRefresh(this._update.bind(this,e))}_update(e){Object.assign(this,e)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value}reset(){this._value=""}get value(){return this._value}set value(e){this.resolve(e,{input:!0})}resolve(e,t){t===void 0&&(t={input:!0}),this.reset(),this.append(e,t,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(e){this.resolve(e,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(e){this.format?this.value=this.format(e,this):this.unmaskedValue=String(e)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(e){this.resolve(e,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(e,t){return e}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),Math.min(this.displayValue.length,t-e)}extractInput(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this.displayValue.slice(e,t)}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new Se(this.extractInput(e,t),e)}appendTail(e){return je(e)&&(e=new Se(String(e))),e.appendTo(this)}_appendCharRaw(e,t){return e?(this._value+=e,new O({inserted:e,rawInserted:e})):new O}_appendChar(e,t,n){t===void 0&&(t={});const i=this.state;let r;if([e,r]=this.doPrepareChar(e,t),e&&(r=r.aggregate(this._appendCharRaw(e,t)),!r.rawInserted&&this.autofix==="pad")){const a=this.state;this.state=i;let l=this.pad(t);const h=this._appendCharRaw(e,t);l=l.aggregate(h),h.rawInserted||l.equals(r)?r=l:this.state=a}if(r.inserted){let a,l=this.doValidate(t)!==!1;if(l&&n!=null){const h=this.state;if(this.overwrite===!0){a=n.state;for(let p=0;p<r.rawInserted.length;++p)n.unshift(this.displayValue.length-r.tailShift)}let f=this.appendTail(n);if(l=f.rawInserted.length===n.toString().length,!(l&&f.inserted)&&this.overwrite==="shift"){this.state=h,a=n.state;for(let p=0;p<r.rawInserted.length;++p)n.shift();f=this.appendTail(n),l=f.rawInserted.length===n.toString().length}l&&f.inserted&&(this.state=h)}l||(r=new O,this.state=i,n&&a&&(n.state=a))}return r}_appendPlaceholder(){return new O}_appendEager(){return new O}append(e,t,n){if(!je(e))throw new Error("value should be string");const i=je(n)?new Se(String(n)):n;t!=null&&t.tail&&(t._beforeTailState=this.state);let r;[e,r]=this.doPrepare(e,t);for(let a=0;a<e.length;++a){const l=this._appendChar(e[a],t,i);if(!l.rawInserted&&!this.doSkipInvalid(e[a],t,i))break;r.aggregate(l)}return(this.eager===!0||this.eager==="append")&&t!=null&&t.input&&e&&r.aggregate(this._appendEager()),i!=null&&(r.tailShift+=this.appendTail(i).tailShift),r}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this._value=this.displayValue.slice(0,e)+this.displayValue.slice(t),new O}withValueRefresh(e){if(this._refreshing||!this._initialized)return e();this._refreshing=!0;const t=this.rawInputValue,n=this.value,i=e();return this.rawInputValue=t,this.value&&this.value!==n&&n.indexOf(this.value)===0&&(this.append(n.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,i}runIsolated(e){if(this._isolated||!this._initialized)return e(this);this._isolated=!0;const t=this.state,n=e(this);return this.state=t,delete this._isolated,n}doSkipInvalid(e,t,n){return!!this.skipInvalid}doPrepare(e,t){return t===void 0&&(t={}),O.normalize(this.prepare?this.prepare(e,this,t):e)}doPrepareChar(e,t){return t===void 0&&(t={}),O.normalize(this.prepareChar?this.prepareChar(e,this,t):e)}doValidate(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}doCommit(){this.commit&&this.commit(this.value,this)}splice(e,t,n,i,r){n===void 0&&(n=""),i===void 0&&(i=T.NONE),r===void 0&&(r={input:!0});const a=e+t,l=this.extractTail(a),h=this.eager===!0||this.eager==="remove";let f;h&&(i=$i(i),f=this.extractInput(0,a,{raw:!0}));let p=e;const m=new O;if(i!==T.NONE&&(p=this.nearestInputPos(e,t>1&&e!==0&&!h?T.NONE:i),m.tailShift=p-e),m.aggregate(this.remove(p)),h&&i!==T.NONE&&f===this.rawInputValue)if(i===T.FORCE_LEFT){let y;for(;f===this.rawInputValue&&(y=this.displayValue.length);)m.aggregate(new O({tailShift:-1})).aggregate(this.remove(y-1))}else i===T.FORCE_RIGHT&&l.unshift();return m.aggregate(this.append(n,r,l))}maskEquals(e){return this.mask===e}optionsIsChanged(e){return!Et(this,e)}typedValueEquals(e){const t=this.typedValue;return e===t||le.EMPTY_VALUES.includes(e)&&le.EMPTY_VALUES.includes(t)||(this.format?this.format(e,this)===this.format(this.typedValue,this):!1)}pad(e){return new O}}le.DEFAULTS={skipInvalid:!0};le.EMPTY_VALUES=[void 0,null,""];D.Masked=le;class Ge{constructor(e,t){e===void 0&&(e=[]),t===void 0&&(t=0),this.chunks=e,this.from=t}toString(){return this.chunks.map(String).join("")}extend(e){if(!String(e))return;e=je(e)?new Se(String(e)):e;const t=this.chunks[this.chunks.length-1],n=t&&(t.stop===e.stop||e.stop==null)&&e.from===t.from+t.toString().length;if(e instanceof Se)n?t.extend(e.toString()):this.chunks.push(e);else if(e instanceof Ge){if(e.stop==null){let i;for(;e.chunks.length&&e.chunks[0].stop==null;)i=e.chunks.shift(),i.from+=e.from,this.extend(i)}e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}appendTo(e){if(!(e instanceof D.MaskedPattern))return new Se(this.toString()).appendTo(e);const t=new O;for(let n=0;n<this.chunks.length;++n){const i=this.chunks[n],r=e._mapPosToBlock(e.displayValue.length),a=i.stop;let l;if(a!=null&&(!r||r.index<=a)&&((i instanceof Ge||e._stops.indexOf(a)>=0)&&t.aggregate(e._appendPlaceholder(a)),l=i instanceof Ge&&e._blocks[a]),l){const h=l.appendTail(i);t.aggregate(h);const f=i.toString().slice(h.rawInserted.length);f&&t.aggregate(e.append(f,{tail:!0}))}else t.aggregate(e.append(i.toString(),{tail:!0}))}return t}get state(){return{chunks:this.chunks.map(e=>e.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(e){const{chunks:t,...n}=e;Object.assign(this,n),this.chunks=t.map(i=>{const r="chunks"in i?new Ge:new Se;return r.state=i,r})}unshift(e){if(!this.chunks.length||e!=null&&this.from>=e)return"";const t=e!=null?e-this.from:e;let n=0;for(;n<this.chunks.length;){const i=this.chunks[n],r=i.unshift(t);if(i.toString()){if(!r)break;++n}else this.chunks.splice(n,1);if(r)return r}return""}shift(){if(!this.chunks.length)return"";let e=this.chunks.length-1;for(;0<=e;){const t=this.chunks[e],n=t.shift();if(t.toString()){if(!n)break;--e}else this.chunks.splice(e,1);if(n)return n}return""}}class Zi{constructor(e,t){this.masked=e,this._log=[];const{offset:n,index:i}=e._mapPosToBlock(t)||(t<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=n,this.index=i,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(e){Object.assign(this,e)}pushState(){this._log.push(this.state)}popState(){const e=this._log.pop();return e&&(this.state=e),e}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((t=this.block)==null?void 0:t.displayValue.length)||0){var t;if(e())return this.ok=!0}return this.ok=!1}_pushRight(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,T.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,T.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,T.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,T.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,T.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,T.NONE),!0})}}class yn{constructor(e){Object.assign(this,e),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new O}nearestInputPos(e,t){t===void 0&&(t=T.NONE);const n=0,i=this._value.length;switch(t){case T.LEFT:case T.FORCE_LEFT:return n;case T.NONE:case T.RIGHT:case T.FORCE_RIGHT:default:return i}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._isRawInput?t-e:0}extractInput(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),n===void 0&&(n={}),n.raw&&this._isRawInput&&this._value.slice(e,t)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new O;const n=this.eager===!0||this.eager==="append",r=this.char===e&&(this.isUnmasking||t.input||t.raw)&&(!t.raw||!n)&&!t.tail,a=new O({inserted:this.char,rawInserted:r?this.char:""});return this._value=this.char,this._isRawInput=r&&(t.raw||t.input),a}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const e=new O;return this.isFilled||(this._value=e.inserted=this.char),e}extractTail(){return new Se("")}appendTail(e){return je(e)&&(e=new Se(String(e))),e.appendTo(this)}append(e,t,n){const i=this._appendChar(e[0],t);return n!=null&&(i.tailShift+=this.appendTail(n).tailShift),i}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value,this._isRawInput=!!e._rawInputValue}pad(e){return this._appendPlaceholder()}}class xt{constructor(e){const{parent:t,isOptional:n,placeholderChar:i,displayChar:r,lazy:a,eager:l,...h}=e;this.masked=Ve(h),Object.assign(this,{parent:t,isOptional:n,placeholderChar:i,displayChar:r,lazy:a,eager:l})}reset(){this.isFilled=!1,this.masked.reset()}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),e===0&&t>=1?(this.isFilled=!1,this.masked.remove(e,t)):new O}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new O;const n=this.masked.state;let i=this.masked._appendChar(e,this.currentMaskFlags(t));return i.inserted&&this.doValidate(t)===!1&&(i=new O,this.masked.state=n),!i.inserted&&!this.isOptional&&!this.lazy&&!t.input&&(i.inserted=this.placeholderChar),i.skip=!i.inserted&&!this.isOptional,this.isFilled=!!i.inserted,i}append(e,t,n){return this.masked.append(e,this.currentMaskFlags(t),n)}_appendPlaceholder(){return this.isFilled||this.isOptional?new O:(this.isFilled=!0,new O({inserted:this.placeholderChar}))}_appendEager(){return new O}extractTail(e,t){return this.masked.extractTail(e,t)}appendTail(e){return this.masked.appendTail(e)}extractInput(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.masked.extractInput(e,t,n)}nearestInputPos(e,t){t===void 0&&(t=T.NONE);const n=0,i=this.value.length,r=Math.min(Math.max(e,n),i);switch(t){case T.LEFT:case T.FORCE_LEFT:return this.isComplete?r:n;case T.RIGHT:case T.FORCE_RIGHT:return this.isComplete?r:i;case T.NONE:default:return r}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.value.slice(e,t).length}doValidate(e){return this.masked.doValidate(this.currentMaskFlags(e))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(e)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(e){this.masked.state=e.masked,this.isFilled=e.isFilled}currentMaskFlags(e){var t;return{...e,_beforeTailState:(e==null||(t=e._beforeTailState)==null?void 0:t.masked)||(e==null?void 0:e._beforeTailState)}}pad(e){return new O}}xt.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class Wi extends le{updateOptions(e){super.updateOptions(e)}_update(e){const t=e.mask;t&&(e.validate=n=>n.search(t)>=0),super._update(e)}}D.MaskedRegExp=Wi;class oe extends le{constructor(e){super({...oe.DEFAULTS,...e,definitions:Object.assign({},xt.DEFAULT_DEFINITIONS,e==null?void 0:e.definitions)})}updateOptions(e){super.updateOptions(e)}_update(e){e.definitions=Object.assign({},this.definitions,e.definitions),super._update(e),this._rebuildMask()}_rebuildMask(){const e=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const t=this.mask;if(!t||!e)return;let n=!1,i=!1;for(let r=0;r<t.length;++r){if(this.blocks){const f=t.slice(r),p=Object.keys(this.blocks).filter(y=>f.indexOf(y)===0);p.sort((y,V)=>V.length-y.length);const m=p[0];if(m){const{expose:y,repeat:V,...R}=it(this.blocks[m]),P={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...R,repeat:V,parent:this},j=V!=null?new D.RepeatBlock(P):Ve(P);j&&(this._blocks.push(j),y&&(this.exposeBlock=j),this._maskedBlocks[m]||(this._maskedBlocks[m]=[]),this._maskedBlocks[m].push(this._blocks.length-1)),r+=m.length-1;continue}}let a=t[r],l=a in e;if(a===oe.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(a==="{"||a==="}"){n=!n;continue}if(a==="["||a==="]"){i=!i;continue}if(a===oe.ESCAPE_CHAR){if(++r,a=t[r],!a)break;l=!1}const h=l?new xt({isOptional:i,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...it(e[a]),parent:this}):new yn({char:a,eager:this.eager,isUnmasking:n});this._blocks.push(h)}}get state(){return{...super.state,_blocks:this._blocks.map(e=>e.state)}}set state(e){if(!e){this.reset();return}const{_blocks:t,...n}=e;this._blocks.forEach((i,r)=>i.state=t[r]),super.state=n}reset(){super.reset(),this._blocks.forEach(e=>e.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(e=>e.isComplete)}get isFilled(){return this._blocks.every(e=>e.isFilled)}get isFixed(){return this._blocks.every(e=>e.isFixed)}get isOptional(){return this._blocks.every(e=>e.isOptional)}doCommit(){this._blocks.forEach(e=>e.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((e,t)=>e+=t.unmaskedValue,"")}set unmaskedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=e,this.appendTail(t),this.doCommit()}else super.unmaskedValue=e}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((e,t)=>e+=t.value,"")}set value(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=e,this.appendTail(t),this.doCommit()}else super.value=e}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=e,this.appendTail(t),this.doCommit()}else super.typedValue=e}get displayValue(){return this._blocks.reduce((e,t)=>e+=t.displayValue,"")}appendTail(e){return super.appendTail(e).aggregate(this._appendPlaceholder())}_appendEager(){var e;const t=new O;let n=(e=this._mapPosToBlock(this.displayValue.length))==null?void 0:e.index;if(n==null)return t;this._blocks[n].isFilled&&++n;for(let i=n;i<this._blocks.length;++i){const r=this._blocks[i]._appendEager();if(!r.inserted)break;t.aggregate(r)}return t}_appendCharRaw(e,t){t===void 0&&(t={});const n=this._mapPosToBlock(this.displayValue.length),i=new O;if(!n)return i;for(let a=n.index,l;l=this._blocks[a];++a){var r;const h=l._appendChar(e,{...t,_beforeTailState:(r=t._beforeTailState)==null||(r=r._blocks)==null?void 0:r[a]});if(i.aggregate(h),h.consumed)break}return i}extractTail(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const n=new Ge;return e===t||this._forEachBlocksInRange(e,t,(i,r,a,l)=>{const h=i.extractTail(a,l);h.stop=this._findStopBefore(r),h.from=this._blockStartPos(r),h instanceof Ge&&(h.blockIndex=r),n.extend(h)}),n}extractInput(e,t,n){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),n===void 0&&(n={}),e===t)return"";let i="";return this._forEachBlocksInRange(e,t,(r,a,l,h)=>{i+=r.extractInput(l,h,n)}),i}_findStopBefore(e){let t;for(let n=0;n<this._stops.length;++n){const i=this._stops[n];if(i<=e)t=i;else break}return t}_appendPlaceholder(e){const t=new O;if(this.lazy&&e==null)return t;const n=this._mapPosToBlock(this.displayValue.length);if(!n)return t;const i=n.index,r=e??this._blocks.length;return this._blocks.slice(i,r).forEach(a=>{if(!a.lazy||e!=null){var l;t.aggregate(a._appendPlaceholder((l=a._blocks)==null?void 0:l.length))}}),t}_mapPosToBlock(e){let t="";for(let n=0;n<this._blocks.length;++n){const i=this._blocks[n],r=t.length;if(t+=i.displayValue,e<=t.length)return{index:n,offset:e-r}}}_blockStartPos(e){return this._blocks.slice(0,e).reduce((t,n)=>t+=n.displayValue.length,0)}_forEachBlocksInRange(e,t,n){t===void 0&&(t=this.displayValue.length);const i=this._mapPosToBlock(e);if(i){const r=this._mapPosToBlock(t),a=r&&i.index===r.index,l=i.offset,h=r&&a?r.offset:this._blocks[i.index].displayValue.length;if(n(this._blocks[i.index],i.index,l,h),r&&!a){for(let f=i.index+1;f<r.index;++f)n(this._blocks[f],f,0,this._blocks[f].displayValue.length);n(this._blocks[r.index],r.index,0,r.offset)}}}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const n=super.remove(e,t);return this._forEachBlocksInRange(e,t,(i,r,a,l)=>{n.aggregate(i.remove(a,l))}),n}nearestInputPos(e,t){if(t===void 0&&(t=T.NONE),!this._blocks.length)return 0;const n=new Zi(this,e);if(t===T.NONE)return n.pushRightBeforeInput()||(n.popState(),n.pushLeftBeforeInput())?n.pos:this.displayValue.length;if(t===T.LEFT||t===T.FORCE_LEFT){if(t===T.LEFT){if(n.pushRightBeforeFilled(),n.ok&&n.pos===e)return e;n.popState()}if(n.pushLeftBeforeInput(),n.pushLeftBeforeRequired(),n.pushLeftBeforeFilled(),t===T.LEFT){if(n.pushRightBeforeInput(),n.pushRightBeforeRequired(),n.ok&&n.pos<=e||(n.popState(),n.ok&&n.pos<=e))return n.pos;n.popState()}return n.ok?n.pos:t===T.FORCE_LEFT?0:(n.popState(),n.ok||(n.popState(),n.ok)?n.pos:0)}return t===T.RIGHT||t===T.FORCE_RIGHT?(n.pushRightBeforeInput(),n.pushRightBeforeRequired(),n.pushRightBeforeFilled()?n.pos:t===T.FORCE_RIGHT?this.displayValue.length:(n.popState(),n.ok||(n.popState(),n.ok)?n.pos:this.nearestInputPos(e,T.LEFT))):e}totalInputPositions(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);let n=0;return this._forEachBlocksInRange(e,t,(i,r,a,l)=>{n+=i.totalInputPositions(a,l)}),n}maskedBlock(e){return this.maskedBlocks(e)[0]}maskedBlocks(e){const t=this._maskedBlocks[e];return t?t.map(n=>this._blocks[n]):[]}pad(e){const t=new O;return this._forEachBlocksInRange(0,this.displayValue.length,n=>t.aggregate(n.pad(e))),t}}oe.DEFAULTS={...le.DEFAULTS,lazy:!0,placeholderChar:"_"};oe.STOP_CHAR="`";oe.ESCAPE_CHAR="\\";oe.InputDefinition=xt;oe.FixedDefinition=yn;D.MaskedPattern=oe;class ft extends oe{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){const{to:t=this.to||0,from:n=this.from||0,maxLength:i=this.maxLength||0,autofix:r=this.autofix,...a}=e;this.to=t,this.from=n,this.maxLength=Math.max(String(t).length,i),this.autofix=r;const l=String(this.from).padStart(this.maxLength,"0"),h=String(this.to).padStart(this.maxLength,"0");let f=0;for(;f<h.length&&h[f]===l[f];)++f;a.mask=h.slice(0,f).replace(/0/g,"\\0")+"0".repeat(this.maxLength-f),super._update(a)}get isComplete(){return super.isComplete&&!!this.value}boundaries(e){let t="",n="";const[,i,r]=e.match(/^(\D*)(\d*)(\D*)/)||[];return r&&(t="0".repeat(i.length)+r,n="9".repeat(i.length)+r),t=t.padEnd(this.maxLength,"0"),n=n.padEnd(this.maxLength,"9"),[t,n]}doPrepareChar(e,t){t===void 0&&(t={});let n;return[e,n]=super.doPrepareChar(e.replace(/\D/g,""),t),e||(n.skip=!this.isComplete),[e,n]}_appendCharRaw(e,t){if(t===void 0&&(t={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(e,t);const n=String(this.from).padStart(this.maxLength,"0"),i=String(this.to).padStart(this.maxLength,"0"),[r,a]=this.boundaries(this.value+e);return Number(a)<this.from?super._appendCharRaw(n[this.value.length],t):Number(r)>this.to?!t.tail&&this.autofix==="pad"&&this.value.length+1<this.maxLength?super._appendCharRaw(n[this.value.length],t).aggregate(this._appendCharRaw(e,t)):super._appendCharRaw(i[this.value.length],t):super._appendCharRaw(e,t)}doValidate(e){const t=this.value;if(t.search(/[^0]/)===-1&&t.length<=this._matchFrom)return!0;const[i,r]=this.boundaries(t);return this.from<=Number(r)&&Number(i)<=this.to&&super.doValidate(e)}pad(e){const t=new O;if(this.value.length===this.maxLength)return t;const n=this.value,i=this.maxLength-this.value.length;if(i){this.reset();for(let r=0;r<i;++r)t.aggregate(super._appendCharRaw("0",e));n.split("").forEach(r=>this._appendCharRaw(r))}return t}}D.MaskedRange=ft;class we extends oe{static extractPatternOptions(e){const{mask:t,pattern:n,...i}=e;return{...i,mask:je(t)?t:n}}constructor(e){super(we.extractPatternOptions({...we.DEFAULTS,...e}))}updateOptions(e){super.updateOptions(e)}_update(e){const{mask:t,pattern:n,blocks:i,...r}={...we.DEFAULTS,...e},a=Object.assign({},we.GET_DEFAULT_BLOCKS());e.min&&(a.Y.from=e.min.getFullYear()),e.max&&(a.Y.to=e.max.getFullYear()),e.min&&e.max&&a.Y.from===a.Y.to&&(a.m.from=e.min.getMonth()+1,a.m.to=e.max.getMonth()+1,a.m.from===a.m.to&&(a.d.from=e.min.getDate(),a.d.to=e.max.getDate())),Object.assign(a,this.blocks,i),super._update({...r,mask:je(t)?t:n,blocks:a})}doValidate(e){const t=this.date;return super.doValidate(e)&&(!this.isComplete||this.isDateExist(this.value)&&t!=null&&(this.min==null||this.min<=t)&&(this.max==null||t<=this.max))}isDateExist(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}get date(){return this.typedValue}set date(e){this.typedValue=e}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(e){super.typedValue=e}maskEquals(e){return e===Date||super.maskEquals(e)}optionsIsChanged(e){return super.optionsIsChanged(we.extractPatternOptions(e))}}we.GET_DEFAULT_BLOCKS=()=>({d:{mask:ft,from:1,to:31,maxLength:2},m:{mask:ft,from:1,to:12,maxLength:2},Y:{mask:ft,from:1900,to:9999}});we.DEFAULTS={...oe.DEFAULTS,mask:Date,pattern:"d{.}`m{.}`Y",format:(s,e)=>{if(!s)return"";const t=String(s.getDate()).padStart(2,"0"),n=String(s.getMonth()+1).padStart(2,"0"),i=s.getFullYear();return[t,n,i].join(".")},parse:(s,e)=>{const[t,n,i]=s.split(".").map(Number);return new Date(i,n-1,t)}};D.MaskedDate=we;class Tt extends le{constructor(e){super({...Tt.DEFAULTS,...e}),this.currentMask=void 0}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),"mask"in e&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(e.mask)?e.mask.map(t=>{const{expose:n,...i}=it(t),r=Ve({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...i});return n&&(this.exposeMask=r),r}):[])}_appendCharRaw(e,t){t===void 0&&(t={});const n=this._applyDispatch(e,t);return this.currentMask&&n.aggregate(this.currentMask._appendChar(e,this.currentMaskFlags(t))),n}_applyDispatch(e,t,n){e===void 0&&(e=""),t===void 0&&(t={}),n===void 0&&(n="");const i=t.tail&&t._beforeTailState!=null?t._beforeTailState._value:this.value,r=this.rawInputValue,a=t.tail&&t._beforeTailState!=null?t._beforeTailState._rawInputValue:r,l=r.slice(a.length),h=this.currentMask,f=new O,p=h==null?void 0:h.state;return this.currentMask=this.doDispatch(e,{...t},n),this.currentMask&&(this.currentMask!==h?(this.currentMask.reset(),a&&(this.currentMask.append(a,{raw:!0}),f.tailShift=this.currentMask.value.length-i.length),l&&(f.tailShift+=this.currentMask.append(l,{raw:!0,tail:!0}).tailShift)):p&&(this.currentMask.state=p)),f}_appendPlaceholder(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}_appendEager(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}appendTail(e){const t=new O;return e&&t.aggregate(this._applyDispatch("",{},e)),t.aggregate(this.currentMask?this.currentMask.appendTail(e):super.appendTail(e))}currentMaskFlags(e){var t,n;return{...e,_beforeTailState:((t=e._beforeTailState)==null?void 0:t.currentMaskRef)===this.currentMask&&((n=e._beforeTailState)==null?void 0:n.currentMask)||e._beforeTailState}}doDispatch(e,t,n){return t===void 0&&(t={}),n===void 0&&(n=""),this.dispatch(e,this,t,n)}doValidate(e){return super.doValidate(e)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(e)))}doPrepare(e,t){t===void 0&&(t={});let[n,i]=super.doPrepare(e,t);if(this.currentMask){let r;[n,r]=super.doPrepare(n,this.currentMaskFlags(t)),i=i.aggregate(r)}return[n,i]}doPrepareChar(e,t){t===void 0&&(t={});let[n,i]=super.doPrepareChar(e,t);if(this.currentMask){let r;[n,r]=super.doPrepareChar(n,this.currentMaskFlags(t)),i=i.aggregate(r)}return[n,i]}reset(){var e;(e=this.currentMask)==null||e.reset(),this.compiledMasks.forEach(t=>t.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(e){this.exposeMask?(this.exposeMask.value=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=e}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(e){this.exposeMask?(this.exposeMask.unmaskedValue=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=e}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(e){if(this.exposeMask){this.exposeMask.typedValue=e,this.currentMask=this.exposeMask,this._applyDispatch();return}let t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var e;return!!((e=this.currentMask)!=null&&e.isComplete)}get isFilled(){var e;return!!((e=this.currentMask)!=null&&e.isFilled)}remove(e,t){const n=new O;return this.currentMask&&n.aggregate(this.currentMask.remove(e,t)).aggregate(this._applyDispatch()),n}get state(){var e;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(t=>t.state),currentMaskRef:this.currentMask,currentMask:(e=this.currentMask)==null?void 0:e.state}}set state(e){const{compiledMasks:t,currentMaskRef:n,currentMask:i,...r}=e;t&&this.compiledMasks.forEach((a,l)=>a.state=t[l]),n!=null&&(this.currentMask=n,this.currentMask.state=i),super.state=r}extractInput(e,t,n){return this.currentMask?this.currentMask.extractInput(e,t,n):""}extractTail(e,t){return this.currentMask?this.currentMask.extractTail(e,t):super.extractTail(e,t)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(e,t){return this.currentMask?this.currentMask.nearestInputPos(e,t):super.nearestInputPos(e,t)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(e){this._overwrite=e}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(e){this._eager=e}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(e){this._skipInvalid=e}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(e){this._autofix=e}maskEquals(e){return Array.isArray(e)?this.compiledMasks.every((t,n)=>{if(!e[n])return;const{mask:i,...r}=e[n];return Et(t,r)&&t.maskEquals(i)}):super.maskEquals(e)}typedValueEquals(e){var t;return!!((t=this.currentMask)!=null&&t.typedValueEquals(e))}}Tt.DEFAULTS={...le.DEFAULTS,dispatch:(s,e,t,n)=>{if(!e.compiledMasks.length)return;const i=e.rawInputValue,r=e.compiledMasks.map((a,l)=>{const h=e.currentMask===a,f=h?a.displayValue.length:a.nearestInputPos(a.displayValue.length,T.FORCE_LEFT);return a.rawInputValue!==i?(a.reset(),a.append(i,{raw:!0})):h||a.remove(f),a.append(s,e.currentMaskFlags(t)),a.appendTail(n),{index:l,weight:a.rawInputValue.length,totalInputPositions:a.totalInputPositions(0,Math.max(f,a.nearestInputPos(a.displayValue.length,T.FORCE_LEFT)))}});return r.sort((a,l)=>l.weight-a.weight||l.totalInputPositions-a.totalInputPositions),e.compiledMasks[r[0].index]}};D.MaskedDynamic=Tt;class wt extends oe{constructor(e){super({...wt.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){const{enum:t,...n}=e;if(t){const i=t.map(l=>l.length),r=Math.min(...i),a=Math.max(...i)-r;n.mask="*".repeat(r),a&&(n.mask+="["+"*".repeat(a)+"]"),this.enum=t}super._update(n)}_appendCharRaw(e,t){t===void 0&&(t={});const n=Math.min(this.nearestInputPos(0,T.FORCE_RIGHT),this.value.length),i=this.enum.filter(r=>this.matchValue(r,this.unmaskedValue+e,n));if(i.length){i.length===1&&this._forEachBlocksInRange(0,this.value.length,(a,l)=>{const h=i[0][l];l>=this.value.length||h===a.value||(a.reset(),a._appendChar(h,t))});const r=super._appendCharRaw(i[0][this.value.length],t);return i.length===1&&i[0].slice(this.unmaskedValue.length).split("").forEach(a=>r.aggregate(super._appendCharRaw(a))),r}return new O}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new Se("",e)}remove(e,t){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),e===t)return new O;const n=Math.min(super.nearestInputPos(0,T.FORCE_RIGHT),this.value.length);let i;for(i=e;i>=0&&!(this.enum.filter(l=>this.matchValue(l,this.value.slice(n,i),n)).length>1);--i);const r=super.remove(i,t);return r.tailShift+=i-e,r}}wt.DEFAULTS={...oe.DEFAULTS,matchValue:(s,e,t)=>s.indexOf(e,t)===t};D.MaskedEnum=wt;class Yi extends le{updateOptions(e){super.updateOptions(e)}_update(e){super._update({...e,validate:e.mask})}}D.MaskedFunction=Yi;var An;class me extends le{constructor(e){super({...me.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),this._updateRegExps()}_updateRegExps(){const e="^"+(this.allowNegative?"[+|\\-]?":""),t="\\d*",n=(this.scale?"("+qt(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(e+t+n),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(qt).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(qt(this.thousandsSeparator),"g")}_removeThousandsSeparators(e){return e.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(e){const t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}doPrepareChar(e,t){t===void 0&&(t={});const[n,i]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(t.input&&t.raw||!t.input&&!t.raw)?e.replace(this._mapToRadixRegExp,this.radix):e),t);return e&&!n&&(i.skip=!0),n&&!this.allowPositive&&!this.value&&n!=="-"&&i.aggregate(this._appendChar("-")),[n,i]}_separatorsCount(e,t){t===void 0&&(t=!1);let n=0;for(let i=0;i<e;++i)this._value.indexOf(this.thousandsSeparator,i)===i&&(++n,t&&(e+=this.thousandsSeparator.length));return n}_separatorsCountFromSlice(e){return e===void 0&&(e=this._value),this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}extractInput(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t),this._removeThousandsSeparators(super.extractInput(e,t,n))}_appendCharRaw(e,t){t===void 0&&(t={});const n=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,i=this._separatorsCountFromSlice(n);this._value=this._removeThousandsSeparators(this.value);const r=this._value;this._value+=e;const a=this.number;let l=!isNaN(a),h=!1;if(l){let y;this.min!=null&&this.min<0&&this.number<this.min&&(y=this.min),this.max!=null&&this.max>0&&this.number>this.max&&(y=this.max),y!=null&&(this.autofix?(this._value=this.format(y,this).replace(me.UNMASKED_RADIX,this.radix),h||(h=r===this._value&&!t.tail)):l=!1),l&&(l=!!this._value.match(this._numberRegExp))}let f;l?f=new O({inserted:this._value.slice(r.length),rawInserted:h?"":e,skip:h}):(this._value=r,f=new O),this._value=this._insertThousandsSeparators(this._value);const p=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,m=this._separatorsCountFromSlice(p);return f.tailShift+=(m-i)*this.thousandsSeparator.length,f}_findSeparatorAround(e){if(this.thousandsSeparator){const t=e-this.thousandsSeparator.length+1,n=this.value.indexOf(this.thousandsSeparator,t);if(n<=e)return n}return-1}_adjustRangeWithSeparators(e,t){const n=this._findSeparatorAround(e);n>=0&&(e=n);const i=this._findSeparatorAround(t);return i>=0&&(t=i+this.thousandsSeparator.length),[e,t]}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t);const n=this.value.slice(0,e),i=this.value.slice(t),r=this._separatorsCount(n.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(n+i));const a=this._separatorsCountFromSlice(n);return new O({tailShift:(a-r)*this.thousandsSeparator.length})}nearestInputPos(e,t){if(!this.thousandsSeparator)return e;switch(t){case T.NONE:case T.LEFT:case T.FORCE_LEFT:{const n=this._findSeparatorAround(e-1);if(n>=0){const i=n+this.thousandsSeparator.length;if(e<i||this.value.length<=i||t===T.FORCE_LEFT)return n}break}case T.RIGHT:case T.FORCE_RIGHT:{const n=this._findSeparatorAround(e);if(n>=0)return n+this.thousandsSeparator.length}}return e}doCommit(){if(this.value){const e=this.number;let t=e;this.min!=null&&(t=Math.max(t,this.min)),this.max!=null&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=this.format(t,this));let n=this.value;this.normalizeZeros&&(n=this._normalizeZeros(n)),this.padFractionalZeros&&this.scale>0&&(n=this._padFractionalZeros(n)),this._value=n}super.doCommit()}_normalizeZeros(e){const t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,(n,i,r,a)=>i+a),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}_padFractionalZeros(e){if(!e)return e;const t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}doSkipInvalid(e,t,n){t===void 0&&(t={});const i=this.scale===0&&e!==this.thousandsSeparator&&(e===this.radix||e===me.UNMASKED_RADIX||this.mapToRadix.includes(e));return super.doSkipInvalid(e,t,n)&&!i}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,me.UNMASKED_RADIX)}set unmaskedValue(e){super.unmaskedValue=e}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(e){this.rawInputValue=this.format(e,this).replace(me.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(e){this.typedValue=e}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(e){return(super.typedValueEquals(e)||me.EMPTY_VALUES.includes(e)&&me.EMPTY_VALUES.includes(this.typedValue))&&!(e===0&&this.value==="")}}An=me;me.UNMASKED_RADIX=".";me.EMPTY_VALUES=[...le.EMPTY_VALUES,0];me.DEFAULTS={...le.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[An.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:s=>s.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};D.MaskedNumber=me;const ss={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function Sn(s,e,t){e===void 0&&(e=ss.MASKED),t===void 0&&(t=ss.MASKED);const n=Ve(s);return i=>n.runIsolated(r=>(r[e]=i,r[t]))}function Xi(s,e,t,n){return Sn(e,t,n)(s)}D.PIPE_TYPE=ss;D.createPipe=Sn;D.pipe=Xi;class Ji extends oe{get repeatFrom(){var e;return(e=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)!=null?e:0}get repeatTo(){var e;return(e=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)!=null?e:1/0}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){var t,n,i;const{repeat:r,...a}=it(e);this._blockOpts=Object.assign({},this._blockOpts,a);const l=Ve(this._blockOpts);this.repeat=(t=(n=r??l.repeat)!=null?n:this.repeat)!=null?t:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&((i=this._blocks)==null?void 0:i.length)||0,this.repeatFrom)),blocks:{m:l},eager:l.eager,overwrite:l.overwrite,skipInvalid:l.skipInvalid,lazy:l.lazy,placeholderChar:l.placeholderChar,displayChar:l.displayChar})}_allocateBlock(e){if(e<this._blocks.length)return this._blocks[e];if(this.repeatTo===1/0||this._blocks.length<this.repeatTo)return this._blocks.push(Ve(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]}_appendCharRaw(e,t){t===void 0&&(t={});const n=new O;for(let h=(i=(r=this._mapPosToBlock(this.displayValue.length))==null?void 0:r.index)!=null?i:Math.max(this._blocks.length-1,0),f,p;f=(a=this._blocks[h])!=null?a:p=!p&&this._allocateBlock(h);++h){var i,r,a,l;const m=f._appendChar(e,{...t,_beforeTailState:(l=t._beforeTailState)==null||(l=l._blocks)==null?void 0:l[h]});if(m.skip&&p){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(n.aggregate(m),m.consumed)break}return n}_trimEmptyTail(e,t){var n,i;e===void 0&&(e=0);const r=Math.max(((n=this._mapPosToBlock(e))==null?void 0:n.index)||0,this.repeatFrom,0);let a;t!=null&&(a=(i=this._mapPosToBlock(t))==null?void 0:i.index),a==null&&(a=this._blocks.length-1);let l=0;for(let h=a;r<=h&&!this._blocks[h].unmaskedValue;--h,++l);l&&(this._blocks.splice(a-l+1,l),this.mask=this.mask.slice(l))}reset(){super.reset(),this._trimEmptyTail()}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const n=super.remove(e,t);return this._trimEmptyTail(e,t),n}totalInputPositions(e,t){return e===void 0&&(e=0),t==null&&this.repeatTo===1/0?1/0:super.totalInputPositions(e,t)}get state(){return super.state}set state(e){this._blocks.length=e._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=e}}D.RepeatBlock=Ji;try{globalThis.IMask=D}catch{}var Fn={exports:{}},Qi="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",er=Qi,tr=er;function Cn(){}function Mn(){}Mn.resetWarningCache=Cn;var sr=function(){function s(n,i,r,a,l,h){if(h!==tr){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}s.isRequired=s;function e(){return s}var t={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:e,element:s,elementType:s,instanceOf:e,node:s,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Mn,resetWarningCache:Cn};return t.PropTypes=t,t};Fn.exports=sr();var nr=Fn.exports;const M=Yn(nr),Tn={mask:M.oneOfType([M.array,M.func,M.string,M.instanceOf(RegExp),M.oneOf([Date,Number,D.Masked]),M.instanceOf(D.Masked)]),value:M.any,unmask:M.oneOfType([M.bool,M.oneOf(["typed"])]),prepare:M.func,prepareChar:M.func,validate:M.func,commit:M.func,overwrite:M.oneOfType([M.bool,M.oneOf(["shift"])]),eager:M.oneOfType([M.bool,M.oneOf(["append","remove"])]),skipInvalid:M.bool,onAccept:M.func,onComplete:M.func,placeholderChar:M.string,displayChar:M.string,lazy:M.bool,definitions:M.object,blocks:M.object,enum:M.arrayOf(M.string),maxLength:M.number,from:M.number,to:M.number,pattern:M.string,format:M.func,parse:M.func,autofix:M.oneOfType([M.bool,M.oneOf(["pad"])]),radix:M.string,thousandsSeparator:M.string,mapToRadix:M.arrayOf(M.string),scale:M.number,normalizeZeros:M.bool,padFractionalZeros:M.bool,min:M.oneOfType([M.number,M.instanceOf(Date)]),max:M.oneOfType([M.number,M.instanceOf(Date)]),dispatch:M.func,inputRef:M.oneOfType([M.func,M.shape({current:M.object})])},wn=Object.keys(Tn).filter(s=>s!=="value"),ir=["value","unmask","onAccept","onComplete","inputRef"],rr=wn.filter(s=>ir.indexOf(s)<0);function ar(s){var e;const t=(e=class extends B.Component{constructor(r){super(r),this._inputRef=this._inputRef.bind(this)}componentDidMount(){this.props.mask&&this.initMask()}componentDidUpdate(){const r=this.props,a=this._extractMaskOptionsFromProps(r);if(a.mask)this.maskRef?(this.maskRef.updateOptions(a),"value"in r&&r.value!==void 0&&(this.maskValue=r.value)):this.initMask(a);else if(this.destroyMask(),"value"in r&&r.value!==void 0){var l;(l=this.element)!=null&&l.isContentEditable&&this.element.tagName!=="INPUT"&&this.element.tagName!=="TEXTAREA"?this.element.textContent=r.value:this.element.value=r.value}}componentWillUnmount(){this.destroyMask()}_inputRef(r){this.element=r,this.props.inputRef&&(Object.prototype.hasOwnProperty.call(this.props.inputRef,"current")?this.props.inputRef.current=r:this.props.inputRef(r))}initMask(r){r===void 0&&(r=this._extractMaskOptionsFromProps(this.props)),this.maskRef=D(this.element,r).on("accept",this._onAccept.bind(this)).on("complete",this._onComplete.bind(this)),"value"in this.props&&this.props.value!==void 0&&(this.maskValue=this.props.value)}destroyMask(){this.maskRef&&(this.maskRef.destroy(),delete this.maskRef)}_extractMaskOptionsFromProps(r){const{...a}=r;return Object.keys(a).filter(l=>rr.indexOf(l)<0).forEach(l=>{delete a[l]}),a}_extractNonMaskProps(r){const{...a}=r;return wn.forEach(l=>{l!=="maxLength"&&delete a[l]}),"defaultValue"in a||(a.defaultValue=r.mask?"":a.value),delete a.value,a}get maskValue(){return this.maskRef?this.props.unmask==="typed"?this.maskRef.typedValue:this.props.unmask?this.maskRef.unmaskedValue:this.maskRef.value:""}set maskValue(r){this.maskRef&&(r=r==null&&this.props.unmask!=="typed"?"":r,this.props.unmask==="typed"?this.maskRef.typedValue=r:this.props.unmask?this.maskRef.unmaskedValue=r:this.maskRef.value=r)}_onAccept(r){this.props.onAccept&&this.maskRef&&this.props.onAccept(this.maskValue,this.maskRef,r)}_onComplete(r){this.props.onComplete&&this.maskRef&&this.props.onComplete(this.maskValue,this.maskRef,r)}render(){return B.createElement(s,{...this._extractNonMaskProps(this.props),inputRef:this._inputRef})}},e.displayName=void 0,e.propTypes=void 0,e),n=s.displayName||s.name||"Component";return t.displayName="IMask("+n+")",t.propTypes=Tn,B.forwardRef((i,r)=>B.createElement(t,{...i,ref:r}))}const ur=ar(s=>{let{inputRef:e,...t}=s;return B.createElement("input",{...t,ref:e})}),lr=(s,e)=>B.createElement(ur,{...s,ref:e}),or=B.forwardRef(lr);function yt({control:s,name:e,label:t,allowedDecimalPlaces:n=2,min:i=0,max:r=99999,suffix:a,className:l,placeholder:h,stretch:f=!1,required:p,ariaDescribedByIfNoError:m,info:y}){const V=Z.useMemo(()=>({required:"Dieses Feld ist erforderlich"}),[]),{field:{onChange:R,onBlur:P,value:j,ref:ee},fieldState:{error:F}}=Bi({control:s,name:e,rules:V}),W=a?`num ${a}`:"num";return u.jsxs("div",{className:$(g("custom-input"),!f&&g("custom-input--small"),F&&g("custom-input--error"),l),children:[u.jsxs("div",{className:g("custom-input-question"),children:[u.jsx("label",{className:g("custom-input-question__label"),htmlFor:e,children:t}),u.jsx(or,{className:g("custom-input-question__input"),inputRef:ee,mask:W,unmask:!0,blocks:{num:{mask:Number,max:r,min:i,thousandsSeparator:".",scale:n}},lazy:!1,autofix:!0,value:j===null?"":String(j),onAccept:Y=>{R(Y?+Y:null)},onBlur:P,type:"text",inputMode:"numeric",name:e,id:e,placeholder:h,"aria-invalid":!!F,"aria-describedby":F?`${e}-error`:m||void 0,required:p}),!!F&&u.jsx(rt,{id:`${e}-error`,error:!0,children:F.message})]}),!!y&&u.jsx(We,{info:y})]})}const js={[ze.YES]:"Ja",[ze.NO]:"Nein"},hr=[{value:ze.YES,label:js.YES},{value:ze.NO,label:js.NO}];function Bn(s){return u.jsx(ts,{...s,options:hr})}function cr(){const s=()=>{const t=document.getElementsByClassName("egr-rechner-form")[0].offsetTop-20;window.scrollTo({top:t,behavior:"smooth"})};return u.jsx("section",{className:`${g("access-control")}`,children:u.jsxs("div",{className:`${g("access-control__content")}`,children:[u.jsx("p",{children:"Bevor Sie den Monatsplaner nutzen können, machen Sie bitte Angaben zu Ihrem Brutto-Einkommen während des Elterngeldbezugs"}),u.jsx(xe,{onClick:s,label:"Jetzt berechnen"})]})})}const Os=s=>Vn(Xs(s).round(0).toNumber(),0),Vn=(s,e)=>s.toLocaleString("de-DE",{style:"currency",currency:"EUR",currencyDisplay:"symbol",minimumFractionDigits:e,maximumFractionDigits:e});function ia({rows:s,elterngeldType:e,elternteil:t,titleTotal:n,markOver14Month:i,hideLebensmonate:r,className:a}){return u.jsxs("table",{className:$(g("rechner-result-table"),e==="Basis"&&g("rechner-result-table--basiselterngeld"),e==="Plus"&&g("rechner-result-table--elterngeldplus"),e==="Bonus"&&g("rechner-result-table--partnerschaftsbonus"),a),children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:$(g("rechner-result-table__lebensmonate"),r&&g("rechner-result-table__lebensmonate--hidden")),children:"Lebensmonate"}),u.jsx("th",{className:g("rechner-result-table__cell"),children:e}),u.jsx("th",{className:g("rechner-result-table__cell"),children:n})]})}),u.jsx("tbody",{children:s.map(({vonLebensMonat:l,bisLebensMonat:h,amountElterngeld:f,amountTotal:p})=>u.jsxs("tr",{children:[u.jsx("td",{className:$("rechner-result-table__cell",r&&g("rechner-result-table__cell--hidden")),"aria-label":l===h?`Lebensmonat ${l}`:`Lebensmonat von ${l} bis ${h}`,children:l===h?l:`${l} - ${h}`}),u.jsxs("td",{className:g("rechner-result-table__cell--result"),"data-testid":`result-${t}-${l}-${h}-${e}`,children:[Os(f),i&&(l>14||h>14)?u.jsx(xs,{number:1,type:"anchor",prefix:"rechner"}):null]}),u.jsxs("td",{className:g("rechner-result-table__cell--result"),"data-testid":`result-total-${t}-${l}-${h}-${e}`,children:[Os(p),i&&(l>14||h>14)?u.jsx(xs,{number:1,type:"anchor",prefix:"rechner"}):null]})]},l))})]})}function Ls({lebensmonate:s,selectablePSBMonths:e,elternteil:t,elternteilName:n,onToggleMonth:i,onDragOverMonth:r,isBEGMonthSelectable:a,isEGPMonthSelectable:l,amounts:h,hasMutterschutz:f,mutterSchutzMonate:p,remainingMonths:m,hideLebensmonateOnDesktop:y,className:V,isElternteilOne:R,partnerMonate:P}){const[j,ee]=Z.useState(null),F=[...e.selectableIndices,...e.deselectableIndices],W=Math.max(...F),Y=Math.min(...F),v=j!==null&&Js(t.months,j),S=(x,_)=>`${n} ${_} für Lebensmonat ${x+1}`,I=x=>Vn(Xs(x).round(0).toNumber(),0),G=x=>!x||x==="empty"?"-":I(x.amountBasiselterngeld),se=x=>!x||x==="empty"?"-":I(x.amountElterngeldPlus);function U(x){const _=t.months[x].type==="BEG",L=a(x);return _||L}function de(x){const _=t.months[x].type==="EG+",L=l(x);return _||L}return u.jsxs("table",{className:$(g("elternteil"),V),children:[u.jsxs("thead",{children:[u.jsxs("tr",{children:[u.jsx("th",{colSpan:1,className:$(g("elternteil__lebensmonat"),y&&g("elternteil__lebensmonat--hidden"))}),u.jsx("th",{colSpan:3,className:g("elternteil__name"),children:n})]}),u.jsxs("tr",{children:[u.jsx("th",{className:$(g("elternteil__lebensmonat"),y&&g("elternteil__lebensmonat--hidden")),children:"Lebens-monat"}),u.jsx("th",{className:$(g("elternteil__th"),g("elternteil__th--basiselterngeld")),children:"Basis"}),u.jsx("th",{className:$(g("elternteil__th"),g("elternteil__th--elterngeldplus")),children:"Plus"}),!!P&&u.jsx("th",{className:$(g("elternteil__th"),g("elternteil__th--partnerschaftsbonus")),children:"Bonus"})]})]}),u.jsx("tbody",{children:s.map((x,_)=>u.jsxs("tr",{children:[u.jsx("td",{"aria-label":`${_+1} ${x.labelLong}`,className:$(g("lebensmonate-cell"),y&&g("lebensmonate-cell--hidden")),children:u.jsx("div",{className:$(g("lebensmonate-cell__lebensmonat-content")),children:u.jsx("span",{className:g("lebensmonate-cell__number"),children:_+1})})}),u.jsx("td",{children:U(_)&&u.jsx(Nt,{isSelected:t.months[_].type==="BEG",label:S(_,"Basiselterngeld"),elterngeldType:"BEG",onToggle:()=>i("BEG",_),onDragOver:()=>r("BEG",_),isMutterschutzMonth:t.months[_].isMutterschutzMonth,isElternteilOne:R,children:G(h[_])})}),u.jsx("td",{children:de(_)&&(!f||_>=p)&&(m.elterngeldplus>0||t.months[_].type==="EG+")&&u.jsx(Nt,{isSelected:t.months[_].type==="EG+",label:S(_,"ElterngeldPlus"),elterngeldType:"EG+",onToggle:()=>i("EG+",_),onDragOver:()=>r("EG+",_),children:se(h[_])})}),!!P&&u.jsx("td",{children:_>=p&&_>=Y&&_<=W&&u.jsx(Nt,{isSelected:t.months[_].type==="PSB",isHighlighted:v===_,label:S(_,"Partnerschaftsbonus"),elterngeldType:"PSB",onToggle:()=>i("PSB",_),onDragOver:()=>r("PSB",_),onMouseOver:()=>ee(_),onMouseLeave:()=>ee(null),children:se(h[_])})})]},x.monthIsoString))})]})}function Zt({name:s,monthsAvailable:e,monthsTaken:t,className:n}){const i=e+t,r=`${e} von ${i} ${s} Monaten noch verfügbar`;return u.jsxs("div",{"aria-label":r,className:$("rounded p-8",n),children:[u.jsx("span",{className:"font-bold",children:s})," ",e,"/",i," ","Monate"]})}function dr({months:s,className:e}){const{basis:t,plus:n,bonus:i}=s;return u.jsxs("div",{"aria-hidden":!0,className:$("grid min-h-24 gap-4",e),children:[He(t.available,"col-span-2 bg-Basis","basis-available"),He(t.taken,"col-span-2 bg-grey","basis-taken"),He(n.available,"row-start-2 bg-Plus","plus-available"),He(n.taken,"row-start-2 bg-grey","plus-taken"),He(i.available,"row-start-1 row-span-2 bg-Bonus","bonus-available"),He(i.taken,"row-start-1 row-span-2 bg-grey","bonus-taken")]})}function He(s,e,t){return[...Array(s)].map((n,i)=>u.jsx("div",{className:$("rounded-2",e),"data-testid":t},i))}function fr({months:s,className:e}){const t=s.bonus.available+s.bonus.taken>0;return u.jsxs("header",{"aria-label":"Kontingent von planbaren Monaten",className:$("flex flex-wrap justify-between gap-8",e),children:[u.jsx(Zt,{name:"Basis",monthsAvailable:s.basis.available,monthsTaken:s.basis.taken,className:"bg-Basis text-white"}),!!t&&u.jsx(Zt,{name:"Bonus",monthsAvailable:s.bonus.available,monthsTaken:s.bonus.taken,className:"bg-Bonus text-black"}),u.jsx(dr,{months:s,className:"basis-full"}),u.jsx(Zt,{name:"Plus",monthsAvailable:s.plus.available,monthsTaken:s.plus.taken,className:"bg-Plus text-black"})]})}var In={},ns=Ze&&Ze.__assign||function(){return ns=Object.assign||function(s){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},ns.apply(this,arguments)};Object.defineProperty(In,"__esModule",{value:!0});var Wt=u,pr=function(s){return(0,Wt.jsxs)("svg",ns({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,"data-testid":"ClearIcon",role:"graphics-symbol img",focusable:"false","aria-hidden":"true"},s,{children:[(0,Wt.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,Wt.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})]}))},mr=In.default=pr;function gr({elternteil:s,monthsBeforeBirth:e}){const{control:t,setValue:n,watch:i}=Fe(),r=i(`${s}.bruttoEinkommenNichtSelbstaendig.type`),a=()=>n(`${s}.bruttoEinkommenNichtSelbstaendig.type`,r==="average"?"monthly":"average");return u.jsx(u.Fragment,{children:u.jsxs(ge,{headline:"Einkünfte aus nichtselbständiger Arbeit",children:[r==="average"&&u.jsx(yt,{control:t,name:`${s}.bruttoEinkommenNichtSelbstaendig.average`,label:"Wie viel haben Sie in den 12 Kalendermonaten vor der Geburt ihres Kindes monatlich brutto verdient?",suffix:"Euro",required:!0,info:Ne.einkommenNichtSelbststaendig}),r==="average"&&u.jsx("p",{className:g(`einkommen-form__ausfuerliche-eingabe-text-${s.toLowerCase()}`),children:"Wenn das Einkommen zwischen den Monaten sehr schwankte, klicken Sie bitte auf „ausführliche Eingabe“ und geben die Monate einzeln ein."}),u.jsx(xe,{buttonStyle:"secondary",onClick:a,label:r==="average"?"Zur ausführlichen Eingabe":"Zur einfachen Eingabe"}),r==="monthly"&&u.jsxs("fieldset",{name:"Einkommen pro Monat",className:g("einkommen-form__per-month"),children:[u.jsxs("legend",{className:"mb-10",children:["Geben Sie an, wie viel Sie in den 12 Monaten vor der Geburt Ihres Kindes monatlich verdient haben.",u.jsx("br",{}),"Ausgenommen sind:",u.jsxs("ul",{children:[u.jsx("li",{children:"Monate in denen Sie im Mutterschutz waren"}),u.jsx("li",{children:"Monate in denen Sie Elterngeld für ein älteres Kind in dessen ersten 14 Lebensmonaten bekommen haben"}),u.jsx("li",{children:"Monate, in denen Sie weniger Einkommen hatten wegen einer Erkrankung, die maßgeblich auf Ihre Schwangerschaft zurückzuführen war"}),u.jsx("li",{children:"Monate, in denen Sie weniger Einkommen wegen Ihres Wehrdienstes oder Zivildienstes hatten"})]}),"Stattdessen werden frühere Monate berücksichtigt, damit der Zeitraum, der für die Feststellung Ihres Einkommens vor der Geburt zählt, insgesamt 12 Monate enthält."]}),u.jsx("div",{className:"grid grid-cols-2 gap-16 [&_input]:w-full",children:e.map(({label:l},h)=>u.jsx(yt,{control:t,name:`${s}.bruttoEinkommenNichtSelbstaendig.perMonth.${h}`,label:l,suffix:"Euro",required:!0},l))})]})]})})}function _r({elternteil:s}){const{setValue:e,control:t}=Fe();return e(`${s}.gewinnSelbstaendig.type`,"yearly"),u.jsx(u.Fragment,{children:u.jsx(ge,{headline:"Gewinneinkünfte",children:u.jsx(yt,{control:t,name:`${s}.gewinnSelbstaendig.perYear`,label:"Wie hoch war Ihr Gewinn im Kalenderjahr vor der Geburt Ihres Kindes?",suffix:"Euro",max:999999,required:!0,info:Ne.einkommenGewinneinkuenfte})})})}const br=[{value:Je.SKL1,label:"1"},{value:Je.SKL2,label:"2"},{value:Je.SKL3,label:"3"},{value:Je.SKL4,label:"4"},{value:Je.SKL5,label:"5"}],kr=[{value:ve.ZKF0,label:"0"},{value:ve.ZKF0_5,label:"0,5"},{value:ve.ZKF1,label:"1,0"},{value:ve.ZKF1_5,label:"1,5"},{value:ve.ZKF2,label:"2,0"},{value:ve.ZKF2_5,label:"2,5"},{value:ve.ZKF3,label:"3,0"},{value:ve.ZKF3_5,label:"3,5"},{value:ve.ZKF4,label:"4,0"},{value:ve.ZKF4_5,label:"4,5"},{value:ve.ZKF5,label:"5,0"}],Ps={[pt.GESETZLICH_PFLICHTVERSICHERT]:"gesetzlich pflichtversichert",[pt.NICHT_GESETZLICH_PFLICHTVERSICHERT]:"nicht gesetzlich pflichtversichert"},vr=[{value:pt.GESETZLICH_PFLICHTVERSICHERT,label:Ps.GESETZLICH_PFLICHTVERSICHERT},{value:pt.NICHT_GESETZLICH_PFLICHTVERSICHERT,label:Ps.NICHT_GESETZLICH_PFLICHTVERSICHERT}],Gs={[mt.GESETZLICHE_RENTEN_VERSICHERUNG]:"gesetzliche Rentenversicherung",[mt.KEINE_GESETZLICHE_RENTEN_VERSICHERUNG]:"keine gesetzliche Rentenversicherung"},Er=[{value:mt.GESETZLICHE_RENTEN_VERSICHERUNG,label:Gs.GESETZLICHE_RENTEN_VERSICHERUNG},{value:mt.KEINE_GESETZLICHE_RENTEN_VERSICHERUNG,label:Gs.KEINE_GESETZLICHE_RENTEN_VERSICHERUNG}];function xr({elternteil:s,isSelbstaendigAndErwerbstaetigOrMehrereTaetigkeiten:e}){const{register:t,formState:{errors:n}}=Fe(),i=q(a=>a.stepNachwuchs.geschwisterkinder.length),r=q(a=>et.isOnlySelbstaendig(a.stepErwerbstaetigkeit[s]));return u.jsxs(u.Fragment,{children:[!r&&u.jsx(ge,{headline:"Steuerklasse",children:u.jsx(nt,{autoWidth:!0,register:t,registerOptions:{required:"Eine Option muss ausgewählt sein"},name:`${s}.steuerKlasse`,label:"Welche Steuerklasse haben Sie?",errors:n,options:br,required:!0,info:Ne.einkommenSteuerklasse})}),!r&&i>0&&u.jsx(ge,{headline:"Kinderfreibeträge",children:u.jsx(nt,{autoWidth:!0,register:t,registerOptions:{required:"Eine Option muss ausgewählt sein"},name:`${s}.kinderFreiBetrag`,label:`Wie viele Kinderfreibeträge sind aus Ihrer Lohn- und
        Gehaltsbescheinigung ersichtlich?`,errors:n,options:kr,required:!0})}),u.jsx(ge,{headline:"Kirchensteuer",description:"Sind Sie kirchensteuerpflichtig?",children:u.jsx(Bn,{register:t,registerOptions:{required:"Dieses Feld ist erforderlich"},name:`${s}.zahlenSieKirchenSteuer`,errors:n,required:!0})}),!e&&u.jsx(ge,{headline:"Krankenversicherung",description:"Wie sind Sie krankenversichert?",children:u.jsx(ts,{register:t,registerOptions:{required:"Dieses Feld ist erforderlich"},name:`${s}.kassenArt`,options:vr,errors:n,required:!0})}),!!r&&u.jsx(ge,{headline:"Rentenversicherung",description:"Wie sind Sie rentenversichert?",children:u.jsx(ts,{register:t,registerOptions:{required:"Dieses Feld ist erforderlich"},name:`${s}.rentenVersicherung`,options:Er,errors:n,required:!0})})]})}const ht={hasRentenversicherung:"rentenversicherungspflichtig",hasKrankenversicherung:"krankenversicherungspflichtig",hasArbeitslosenversicherung:"arbeitslosenversicherungspflichtig",none:"keines der Genannten"};function yr({hasRentenversicherungName:s,hasArbeitslosenversicherungName:e,hasKrankenversicherungName:t,noneName:n}){const{register:i,formState:{errors:r},setValue:a,getValues:l}=Fe(),h=b(r,n),f=m=>{m.target.checked&&(a(s,!1),a(t,!1),a(e,!1))},p=Z.useMemo(()=>({onChange:m=>{m.target.checked&&a(n,!1)},deps:[n]}),[n,a]);return u.jsxs(ge,{description:"Ich war während der Ausübung dieser Tätigkeit","aria-describedby":h?"versicherungen-checkbox-group-error":void 0,children:[u.jsx(ot,{register:i,registerOptions:p,name:s,label:ht.hasRentenversicherung}),u.jsx(ot,{register:i,registerOptions:p,name:t,label:ht.hasKrankenversicherung}),u.jsx(ot,{register:i,registerOptions:p,name:e,label:ht.hasArbeitslosenversicherung}),u.jsx(ot,{register:i,name:n,label:ht.none,registerOptions:{validate:{validVersicherungOrNone:m=>m===!0?!0:[s,t,e].some(V=>l(V)===!0)||"Mindestens eine Option muss gewählt werden"},onChange:f}}),h?u.jsx("span",{id:"versicherungen-checkbox-group-error",children:h.message}):null]})}var At;(s=>{s.valueOf=(e,t)=>{switch(t){case"Date":return new Date(e).getTime();case"Integer":return Number.parseInt(e)}throw new Error("Unknown ZeitraumValueType")}})(At||(At={}));function Ar({register:s,name:e,getValues:t,setValue:n,errors:i,options:r,optionsTo:a,className:l,suffix:h,type:f="Date",disabled:p,onChange:m,required:y,...V}){const R=`${e}.from`,P=`${e}.to`;h=h?` ${h}`:"";const j=`von${h}`,ee=`bis${h}`,F=Z.useCallback(N=>At.valueOf(N,f),[f]),W=Z.useMemo(()=>[...Be(a||r)],[r,a]),[Y,v]=Z.useState(()=>Be(W)),S=Z.useCallback(N=>{v(Q=>{const ke=W.filter(te=>te.hidden).filter(te=>F(te.value)>F(N)).reduce((te,Me)=>F(te.value)<F(Me.value)?te:Me,{label:"",value:"9999-12-31"});Q.forEach((te,Me)=>{const C=!W[Me].hidden,z=te.value!=="";if(C&&z)if(F(te.value)<F(ke.value)){const he=N!=="";te.hidden=he&&F(te.value)<F(N)}else te.hidden=!0});const Ce=t(P);return Q.find(te=>!te.hidden&&te.value===Ce)!==void 0||n(P,""),[...Q]});const X=t(P);m&&(F(X)<F(N)||N===""?m({from:N,to:""}):m({from:N,to:X})),L(N)},[W,t,m,n,P,F]),I=Z.useCallback(N=>{m&&m({from:t(R),to:N}),x(N)},[R,t,m]),G=Z.useMemo(()=>({onChange:N=>I(N.target.value),validate:{requireFromAndTo:N=>{const X=N!=="",Q=t(R)!=="";if(X&&Q)return!0;if(!Q&&!X)return"Feld 'von' und 'bis' sind erforderlich";if(!Q)return"Feld 'von' ist erforderlich";if(!X)return"Feld 'bis' ist erforderlich"},fromIsBeforeTo:N=>{const X=t(R);if(N===""||X==="")return!0;const Q=F(X),ke=F(N);return Q<=ke||"Zeitraum 'bis' muss nach 'von' liegen"}}}),[I,t,R,F]),se=Z.useMemo(()=>({deps:[P],onChange:N=>S(N.target.value)}),[S,P]),U=b(i,P),[de,x]=Z.useState(""),[_,L]=Z.useState("");return u.jsxs("section",{className:$(g("zeitraum"),l),children:[u.jsxs("div",{className:g("zeitraum__controls"),children:[u.jsx(nt,{register:s,registerOptions:se,name:R,label:j,options:r,disabled:p,"aria-invalid":!!U,"aria-describedby":U?`${e}-error`:void 0,required:y,...V}),u.jsx(nt,{register:s,registerOptions:G,name:P,label:ee,options:Y,disabled:p,"aria-invalid":!!U,"aria-describedby":U?`${e}-error`:void 0,required:y,...V}),u.jsx("p",{id:e,className:"sr-only",children:_&&de?`im Zeitraum ${j} ${_} ${ee} ${de} :`:""})]}),!!U&&u.jsx(rt,{id:`${P}-error`,error:!0,children:U.message})]})}const Sr=(s,e,t,n)=>{const i=l=>At.valueOf(l,t),r={from:Be(e.from),to:Be(e.to)},a=s.map(l=>({from:l.from,to:l.to}));return n&&(a.pop(),a.push({from:n.from,to:n.to})),a.sort((l,h)=>i(l.from)-i(h.from)),a.forEach(l=>{const h=i(l.from),f=i(l.to);l.from!==""&&r.from.filter(p=>!p.hidden).forEach(p=>{const m=i(p.value);p.hidden=m>=h&&m<=f}),(l.from!==""||l.to!=="")&&r.to.filter(p=>!p.hidden).forEach(p=>{const m=i(p.value);p.hidden=m>=h&&m<=f})}),r},zs={NichtSelbststaendig:"nichtselbständige Arbeit",Selbststaendig:"Gewinneinkünfte"},Fr=[{value:"NichtSelbststaendig",label:zs.NichtSelbststaendig},{value:"Selbststaendig",label:zs.Selbststaendig}];function Cr({elternteil:s,taetigkeitsIndex:e,isSelbststaendig:t,monthsBeforeBirth:n,onRemove:i}){const r=`${s}.taetigkeitenNichtSelbstaendigUndSelbstaendig`,{register:a,control:l,getValues:h,setValue:f,formState:{errors:p}}=Fe(),m=`${r}.${e}.zeitraum`,y=`${r}.${e}.artTaetigkeit`,V=`${r}.${e}.bruttoEinkommenDurchschnitt`,R=`${r}.${e}.isMinijob`,P=`${r}.${e}.versicherungen`,{fields:j,append:ee,remove:F}=mn({name:m,control:l}),[W,Y]=Z.useState(()=>!1),[v,S]=Z.useState(new Array(j.length).fill({from:Be(n),to:Be(n)})),I=x=>Sr(v.map((_,L)=>h(`${m}.${L}`)).map(_=>({from:_.from,to:_.to})),{from:Be(n),to:Be(n)},"Integer",x),G=(x,_)=>{const L=I(_).from.filter(N=>!N.hidden);Y(L.length===0)};hn({name:y});const U=h(y)==="Selbststaendig",de=U?"Durchschnittlicher monatlicher Gewinn":"Durchschnittliches Brutto-Einkommen";return u.jsxs(ge,{headline:`${e+1}. Tätigkeit`,children:[u.jsx(ge,{children:!!t&&u.jsx(nt,{autoWidth:!0,register:a,name:y,label:"Art der Tätigkeit",options:Fr,registerOptions:{required:"Dieses Feld ist erforderlich"},errors:p,required:!0,info:Ne.erwerbstaetigkeitNichtSelbststaendigGewinneinkuenfte})}),u.jsx(ge,{children:u.jsx(yt,{control:l,name:V,label:de,suffix:"Euro",info:U?Ne.einkommenGewinneinkuenfte:Ne.einkommenNichtSelbststaendig})}),!U&&u.jsx(ge,{description:"War diese Tätigkeit ein Mini-Job?",info:Ne.minijobsMaxZahl,children:u.jsx(Bn,{name:R,register:a,registerOptions:{required:"Dieses Feld ist erforderlich"},errors:p,required:!0})}),u.jsxs(ge,{description:"In welchem Zeitraum haben Sie diese Tätigkeit ausgeübt?",children:[j.map((x,_)=>u.jsxs("div",{className:g("einkommen-form__zeitraum"),children:[u.jsx(Ar,{disabled:_+1!==j.length,register:a,setValue:f,getValues:h,name:`${m}.${_}`,"aria-label":`${_+1}. Zeitraum`,options:v[_].from,optionsTo:v[_].to,onChange:L=>G(_,L),errors:p,type:"Integer"}),j.length>1&&u.jsx(xe,{buttonStyle:"link",label:"Zeitraum entfernen",iconAfter:u.jsx(mr,{}),onClick:()=>{S(L=>L.filter((N,X)=>X!==_)),F(_),Y(!1)}})]},x.id)),u.jsx("div",{className:g("einkommen-form__taetigkeit-buttons"),children:u.jsx(xe,{buttonStyle:"secondary",disabled:W,onClick:()=>{const x=I();S([...v,x]),ee({from:"",to:""});const _=x.from.filter(L=>!L.hidden).length;Y(_===1)},label:"weiteren Zeitraum hinzufügen"})})]}),u.jsx(yr,{hasRentenversicherungName:`${P}.hasRentenversicherung`,hasKrankenversicherungName:`${P}.hasKrankenversicherung`,hasArbeitslosenversicherungName:`${P}.hasArbeitslosenversicherung`,noneName:`${P}.none`}),u.jsx(xe,{buttonStyle:"secondary",onClick:i,label:"Tätigkeit löschen"})]})}function Mr({elternteil:s,isSelbststaendig:e,monthsBeforeBirth:t}){const{control:n}=Fe(),i=`${s}.taetigkeitenNichtSelbstaendigUndSelbstaendig`,r=mn({name:i,control:n});return u.jsxs(u.Fragment,{children:[r.fields.map((a,l)=>u.jsx(Cr,{elternteil:s,taetigkeitsIndex:l,isSelbststaendig:e,monthsBeforeBirth:t,onRemove:()=>r.remove(l)},a.id)),u.jsx(xe,{buttonStyle:"primary",onClick:()=>r.append(Xn),label:r.fields.length?"weitere Tätigkeit hinzufügen":"eine Tätigkeit hinzufügen"})]})}const $s=Array.from({length:12},(s,e)=>({label:`${e+1}. Monat`,value:`${e+1}`}));function ra({elternteil:s,elternteilName:e}){const t=q(V=>et.isErwerbstaetigVorGeburt(V.stepErwerbstaetigkeit[s])),n=q(V=>et.isOnlyErwerbstaetig(V.stepErwerbstaetigkeit[s])),i=q(V=>V.stepErwerbstaetigkeit),r=i[s].isSelbststaendig,a=i[s].mehrereTaetigkeiten===ze.YES,l=q(V=>et.isSelbstaendigAndErwerbstaetig(V.stepErwerbstaetigkeit[s])),h=q(V=>et.isOnlySelbstaendig(V.stepErwerbstaetigkeit[s])),f=q(V=>t&&V.stepErwerbstaetigkeit[s].monatlichesBrutto==="MiniJob"),p=l||a,m=n&&!a,y=q(as.getAntragssteller);return u.jsxs("section",{"aria-label":e,children:[y==="FuerBeide"&&u.jsx("h2",{className:"mb-10",children:e}),!t&&u.jsx("p",{children:"Da Sie in den letzten 12 Monaten kein Einkommen angegeben haben, wird für Sie mit dem Mindestsatz gerechnet und Sie müssen keine weiteren Angaben zum Einkommen machen."}),!!t&&u.jsxs(u.Fragment,{children:[!!m&&u.jsx(gr,{elternteil:s,monthsBeforeBirth:$s}),!!h&&u.jsx(_r,{elternteil:s}),!f&&u.jsx(xr,{elternteil:s,isSelbstaendigAndErwerbstaetigOrMehrereTaetigkeiten:p}),!!p&&u.jsx(Mr,{elternteil:s,isSelbststaendig:r,monthsBeforeBirth:$s})]})]})}var Dn={},is=Ze&&Ze.__assign||function(){return is=Object.assign||function(s){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},is.apply(this,arguments)};Object.defineProperty(Dn,"__esModule",{value:!0});var Le=u,Tr=function(s){return(0,Le.jsxs)("svg",is({xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:24,viewBox:"0 0 24 24",width:24,"data-testid":"RestartAltIcon",role:"graphics-symbol img",focusable:"false","aria-hidden":"true"},s,{children:[(0,Le.jsx)("g",{children:(0,Le.jsx)("path",{d:"M0,0h24v24H0V0z",fill:"none"})}),(0,Le.jsx)("g",{children:(0,Le.jsxs)("g",{children:[(0,Le.jsx)("path",{d:"M12,5V2L8,6l4,4V7c3.31,0,6,2.69,6,6c0,2.97-2.17,5.43-5,5.91v2.02c3.95-0.49,7-3.85,7-7.93C20,8.58,16.42,5,12,5z"}),(0,Le.jsx)("path",{d:"M6,13c0-1.65,0.67-3.15,1.76-4.24L6.34,7.34C4.9,8.79,4,10.79,4,13c0,4.08,3.05,7.44,7,7.93v-2.02 C8.17,18.43,6,15.97,6,13z"})]})})]}))},wr=Dn.default=Tr,Nn={},rs=Ze&&Ze.__assign||function(){return rs=Object.assign||function(s){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},rs.apply(this,arguments)};Object.defineProperty(Nn,"__esModule",{value:!0});var Yt=u,Br=function(s){return(0,Yt.jsxs)("svg",rs({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,"data-testid":"PermIdentityIcon",role:"graphics-symbol img",focusable:"false","aria-hidden":"true"},s,{children:[(0,Yt.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,Yt.jsx)("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"})]}))},Vr=Nn.default=Br;function Ir({name:s,monthCount:e,totalPayoutAmount:t,totalIncomeAmount:n,hideSum:i}){const r=`${e} Monat${e>1?"e":""}`,a=ct(t),l=ct(n),h=ct(t+n);return u.jsxs(u.Fragment,{children:[u.jsxs("span",{children:[u.jsx(Vr,{})," ",u.jsx("strong",{children:s})," ",r]}),u.jsxs("span",{className:"mt-auto",children:["Elterngeld: ",a]}),u.jsxs("span",{children:["Einkommen: ",l]}),!i&&u.jsxs("strong",{children:["Summe: ",h]})]})}function Dr({data:s,className:e}){const t=s.length===1,n=ct(Nr(s));return u.jsxs("footer",{"aria-label":"Gesamtsumme",className:$(e,"flex flex-wrap justify-evenly gap-24 text-center"),children:[s.map(i=>u.jsx("div",{className:"flex basis-[30ch] flex-col items-center",children:u.jsx(Ir,{...i,name:t?void 0:i.name,hideSum:t})},i.name)),u.jsxs("strong",{className:"basis-full",children:["Gesamtsumme der Planung: ",n]}),u.jsx("span",{className:"basis-full text-14",children:"Hinweis: Mutterschutz wird nicht in der Summe berücksichtigt"})]})}function Nr(s){return s.reduce((e,{totalPayoutAmount:t,totalIncomeAmount:n})=>e+t+n,0)}function Rr(){const e=q(a=>a.stepAllgemeineAngaben.antragstellende)==="EinenElternteil",t=q(as.getElternteilNames),n=q(jr),i=q(Or),r=[{name:t.ET1,monthCount:Us(n.ET1),totalPayoutAmount:Hs(n.ET1,i.ET1),totalIncomeAmount:Ks(i.ET1)}];return e||r.push({name:t.ET2,monthCount:Us(n.ET2),totalPayoutAmount:Hs(n.ET2,i.ET2),totalIncomeAmount:Ks(i.ET2)}),r}const jr=st(s=>s.monatsplaner.elternteile.ET1.months,s=>s.monatsplaner.elternteile.ET2.months,(s,e)=>({ET1:s,ET2:e})),Or=st(s=>s.stepRechner.ET1.elterngeldResult,s=>s.stepRechner.ET2.elterngeldResult,(s,e)=>({ET1:s,ET2:e}));function Us(s){return s.filter(e=>e.type!=="None").length}function Hs(s,e){const t=e.state==="success"?e.data:[],i=Rn(t).map((r,a)=>{var l;return Lr(r,(l=s[a])==null?void 0:l.type)});return jn(i)}function Ks(s){const e=s.state==="success"?s.data:[],n=Rn(e).map(i=>i.nettoEinkommen);return jn(n)}function Lr(s,e){switch(e){case"BEG":return s.basisElternGeld;case"EG+":case"PSB":return s.elternGeldPlus;case"None":case void 0:return 0}}function Rn(s){return Array.from({length:Qs.lebensMonateMaxNumber},(e,t)=>s.find(n=>Pr(n,t))??Gr(t))}function Pr(s,e){const t=s.vonLebensMonat-1,n=s.bisLebensMonat-1;return t<=e&&e<=n}function Gr(s){return{vonLebensMonat:s,bisLebensMonat:s,basisElternGeld:0,elternGeldPlus:0,nettoEinkommen:0}}function jn(s){return s.reduce((e,t)=>e+t,0)}function zr(){const s=q(l=>l.monatsplaner.elternteile),e=s.remainingMonths.basiselterngeld,t=s.remainingMonths.elterngeldplus,n=s.remainingMonths.partnerschaftsbonus,i=Xt(s,"BEG"),r=Xt(s,"EG+"),a=Xt(s,"PSB");return{basis:{available:e,taken:$r(i,r)},plus:{available:t,taken:Ur(r,i)},bonus:{available:n,taken:Hr(a)}}}function Xt(s,e){return[...s.ET1.months,...s.ET2.months].filter(({type:n})=>n===e).length}function $r(s,e){return s+Math.ceil(e/2)}function Ur(s,e){return s+e*2}function Hr(s){return s/2}function Kr(){const s=q(qr);Z.useEffect(()=>{const{monthsET1:e,monthsET2:t,singleApplicant:n}=s;Ai(e,t,n)},[s])}const qr=st([s=>s.monatsplaner.elternteile.ET1.months,s=>s.monatsplaner.elternteile.ET2.months,s=>s.stepAllgemeineAngaben.antragstellende],(s,e,t)=>({monthsET1:s.map(n=>n.type),monthsET2:e.map(n=>n.type),singleApplicant:t==="EinenElternteil"}));function Zr(){return u.jsxs("div",{children:["Basiselterngeld können Sie nur für einen Lebensmonat in den ersten 12 Lebensmonaten gleichzeitig bekommen.",u.jsx("br",{}),"Diese Einschränkung gilt nicht für besonders früh geborene Kinder, Mehrlinge, Neugeborene mit Behinderung und Geschwisterkinder mit Behinderung."]})}const qs=18,Zs=Array.from({length:Qs.lebensMonateMaxNumber}).fill("empty"),Ws=s=>s.state!=="success"?Zs:Zs.map((e,t)=>{const n=t+1,i=s.data.find(r=>n>=r.vonLebensMonat&&n<=r.bisLebensMonat);return i?{amountBasiselterngeld:i.basisElternGeld,amountElterngeldPlus:i.elternGeldPlus}:"empty"}),St=s=>s.filter(e=>e.type==="BEG").length,Wr=(s,e)=>{const t=St(s.ET1.months),n=St(s.ET2.months);return e==="FuerBeide"&&(t>=11&&n<=1||n>=11&&t<=1)},Ys=(s,e)=>{const t=St(s.ET1.months),n=St(s.ET2.months);return e==="FuerBeide"&&(t>12||n>12)};function aa({mutterSchutzMonate:s}){const e=Jn(),t=Qn(),n=q(C=>C.monatsplaner.partnerMonate),i=q(ei.isMonatsplanerOverlayVisible),r=q(ti.getLebensmonateAfterBirth),a=q(C=>C.monatsplaner.elternteile),l=q(as.getElternteilNames),h=q(C=>C.stepAllgemeineAngaben.antragstellende),f=q(si.getSelectablePSBMonthIndices),p=q(C=>C.monatsplaner.mutterschutzElternteil),m=q(st(C=>C.stepRechner.ET1.elterngeldResult,Ws)),y=q(st(C=>C.stepRechner.ET2.elterngeldResult,Ws)),V=q(C=>C.stepAllgemeineAngaben.alleinerziehend),R=q(C=>C.monatsplaner.settings),[P,j]=Z.useState(null),[ee,F]=Z.useState(qs),W=Z.useRef(),{basiselterngeld:Y,elterngeldplus:v}=a.remainingMonths,S=()=>{const C=Cs(a);Ys(a,h)?j([u.jsx(Fs,{},"beg-max")]):C.isValid?t(Es.zusammenfassungUndDaten.route):j([u.jsx(Ss,{errorCodes:C.errorCodes},"validation-monatsplaner-generic-error-codes")])},I=()=>{window.print()},G=()=>j(null);Z.useEffect(()=>{const C=Cs(a),z=C&&!C.isValid&&C.errorCodes.includes("DoesNotHaveContinuousEGAfterBEGAnspruch"),ue=C&&!C.isValid&&C.errorCodes.includes("DoesNotHaveTheMinimumAmountOfEGMonthsOrNoneAtAll"),he=Wr(a,h);Ys(a,h)?j([u.jsx(Fs,{},"beg-max")]):ue&&V?j([u.jsx(ci,{},"beg-hint-min")]):ue&&!V||he?j([u.jsx(hi,{},"beg-hint-min-max")]):z?j([u.jsx(Ss,{errorCodes:["DoesNotHaveContinuousEGAfterBEGAnspruch"]},"validation-monatsplaner-does-not-have-continuous-eg-after-beg-anspruch")]):Y===0&&v===0?j([u.jsx(ys,{targetType:"BEGAndEG+"},"no-further-month-available-beg-and-egplus")]):Y===0&&v!==0&&j([u.jsx(ys,{targetType:"BEG"},"no-further-month-available-beg")])},[Y,v,h,a,a.ET1.months,a.ET2.months,V]),Z.useEffect(()=>{},[]);const{highestAllowedDeselectablePSBIndex:se,lowestAllowedDeselectablePSBIndex:U}={highestAllowedDeselectablePSBIndex:Math.max(...f.deselectableIndices),lowestAllowedDeselectablePSBIndex:Math.min(...f.deselectableIndices)},de=(C,z,ue)=>{const he=a[C].months[ue].type===z?"None":z;if(ue>U&&ue<se){j([u.jsx(As,{},"psb-not-deselectable")]);return}if(e(Dt.changeMonth({elternteil:C,targetType:he,partnerMonate:n,monthIndex:ue})),z==="PSB"){const ye=Js(a.ET1.months,ue);j([...h==="FuerBeide"?[u.jsx(pi,{},"psb-change-other-elternteil")]:[],...ye?[u.jsx(fi,{label:r[ye].labelLong},"psb-automatically-selection")]:[]])}W.current={targetType:he,targetColumnType:z}},x=(C,z,ue)=>{if(!W.current)return;const{targetType:he,targetColumnType:ye}=W.current;if(z===ye){if(ue>U&&ue<se){j([u.jsx(As,{},"psb-not-deselectable")]);return}e(Dt.changeMonth({elternteil:C,targetType:he,partnerMonate:n,monthIndex:ue}))}},_=()=>t(Es.elterngeldvarianten.route);function L(C,z){const he=z<=(n?13:11),ye=a.remainingMonths.basiselterngeld>0,Oe={targetType:"BEG",elternteil:C,monthIndex:z},Xe=ri(Oe,a,R),Bt=ai(Oe,a,R);return ye&&he&&!Xe&&!Bt}function N(C,z){return!ui({targetType:"EG+",elternteil:C,monthIndex:z},a,R)}const[X,Q]=Z.useState(!1);function ke(){const C=li(a),z=oi(R);C&&!z?X||(Q(!0),j([u.jsx(Zr,{},"max-simultatenous-beg-months")])):Q(!1)}Z.useEffect(ke,[a,R,X]);const Ce=Rr(),Ie=zr(),te=Z.useRef(null);function Me(){var C,z;e(Dt.resetMonths()),(C=te.current)==null||C.scrollIntoView({behavior:"smooth"}),(z=te.current)==null||z.focus({preventScroll:!0})}return Kr(),u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:$(g("monatsplaner"),V===ze.YES&&g("monatsplaner--alleinerziehend")),children:[u.jsxs("div",{className:g("monatsplaner__header"),children:[u.jsx("h2",{ref:te,tabIndex:-1,className:"mb-10",children:"Monatsplaner"}),u.jsx("p",{children:"Im Monatsplaner können Sie Ihre individuelle Kombination von Elterngeld für jeden Lebensmonat Ihres Kindes planen. In der Tabelle unten können Sie durch anklicken des jeweiligen Monats wählen, wann Sie welches Elterngeld bekommen möchten. Darüber sehen Sie jeweils wie viele Monate Sie noch zur Verfügung haben."})]}),!!i&&u.jsx(cr,{}),u.jsxs("div",{className:$(i&&g("monatsplaner__blur")),"aria-hidden":i,children:[u.jsx(fr,{className:"print:hidden",months:Ie}),u.jsxs("div",{className:g("monatsplaner__tables"),children:[u.jsx(Ls,{className:g("monatsplaner__sticky-elternteil"),elternteil:a.ET1,selectablePSBMonths:f,elternteilName:V===ze.YES?"":l.ET1,onToggleMonth:(C,z)=>de("ET1",C,z),onDragOverMonth:(C,z)=>x("ET1",C,z),isBEGMonthSelectable:C=>L("ET1",C),isEGPMonthSelectable:C=>N("ET1",C),lebensmonate:r.slice(0,ee),amounts:m,hasMutterschutz:p==="ET1",mutterSchutzMonate:s,partnerMonate:n,remainingMonths:a.remainingMonths,isElternteilOne:!0}),h==="FuerBeide"&&u.jsx(Ls,{className:g("monatsplaner__sticky-elternteil"),elternteil:a.ET2,selectablePSBMonths:f,elternteilName:l.ET2,onToggleMonth:(C,z)=>de("ET2",C,z),onDragOverMonth:(C,z)=>x("ET2",C,z),isBEGMonthSelectable:C=>L("ET2",C),isEGPMonthSelectable:C=>N("ET2",C),lebensmonate:r.slice(0,ee),amounts:y,hasMutterschutz:p==="ET2",mutterSchutzMonate:s,partnerMonate:n,remainingMonths:a.remainingMonths,hideLebensmonateOnDesktop:!0})]}),u.jsxs("div",{className:g("monatsplaner__footer"),children:[ee===qs&&u.jsx(xe,{buttonStyle:"secondary",label:"Alle Monate anzeigen",iconBefore:u.jsx(ni,{}),onClick:()=>F(r.length)}),u.jsx(Dr,{className:"w-full bg-white p-16",data:Ce}),u.jsx("p",{children:"Dieses Ergebnis ist nicht rechtsverbindlich. Erst nach der Geburt Ihres Kindes kann Ihre zuständige Elterngeldstelle eine konkrete und rechtsverbindliche Berechnung Ihres Anspruchs vornehmen."}),u.jsx(gi,{messages:P,active:P!==null&&P.length>0,onUnMount:G,timeout:4500})]})]})]}),u.jsxs("div",{className:"my-40 flex flex-wrap gap-32 print:hidden",children:[u.jsx(xe,{buttonStyle:"link",label:"Planung wiederholen",iconBefore:u.jsx(wr,{}),onClick:Me}),u.jsx(xe,{buttonStyle:"link",label:"Download der Planung",iconBefore:u.jsx(ii,{}),onClick:I})]}),u.jsxs("section",{className:g("monatsplaner__button-group"),children:[u.jsx(xe,{onClick:_,label:"Zurück",buttonStyle:"secondary"}),u.jsx(xe,{onClick:S,label:"Zur Übersicht"})]})]})}export{ts as C,rt as D,ra as E,ge as F,We as I,aa as M,ia as R,gi as T,Bn as Y,Ar as Z,mr as _,Bi as a,or as b,D as c,mn as d,ot as e,Fe as f,b as g,ta as h,Ne as i,xs as j,yt as k,Sr as l,sa as u};
