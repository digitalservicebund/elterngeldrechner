import{j as e,B as j,a0 as ee,M as m,r as E,c as y,a7 as ne,Y as te,V as h,a8 as I,a9 as F,b,Z as C,W as H,a as se,P as ae,f as D,n as re}from"./index-DPo_heNS.js";import{E as le}from"./egr-configuration-BkWsa5ZA.js";function ie(){const n=()=>{window.print()};return e.jsx(j,{buttonStyle:"link",label:"Download der Planung",iconBefore:e.jsx(ee,{}),onClick:n})}var $={},O=m&&m.__assign||function(){return O=Object.assign||function(n){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},O.apply(this,arguments)};Object.defineProperty($,"__esModule",{value:!0});var _=e,oe=function(n){return(0,_.jsxs)("svg",O({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,"data-testid":"ThumbUpOffAltIcon",role:"graphics-symbol img",focusable:"false","aria-hidden":"true"},n,{children:[(0,_.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,_.jsx)("path",{d:"M13.11 5.72l-.57 2.89c-.12.59.04 1.2.42 1.66.38.46.94.73 1.54.73H20v1.08L17.43 18H9.34c-.18 0-.34-.16-.34-.34V9.82l4.11-4.1M14 2L7.59 8.41C7.21 8.79 7 9.3 7 9.83v7.83C7 18.95 8.05 20 9.34 20h8.1c.71 0 1.36-.37 1.72-.97l2.67-6.15c.11-.25.17-.52.17-.8V11c0-1.1-.9-2-2-2h-5.5l.92-4.65c.05-.22.02-.46-.08-.66-.23-.45-.52-.86-.88-1.22L14 2zM4 9H2v11h2c.55 0 1-.45 1-1v-9c0-.55-.45-1-1-1z"})]}))},ce=$.default=oe,U={},k=m&&m.__assign||function(){return k=Object.assign||function(n){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},k.apply(this,arguments)};Object.defineProperty(U,"__esModule",{value:!0});var N=e,ue=function(n){return(0,N.jsxs)("svg",k({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,"data-testid":"ThumbDownOffAltIcon",role:"graphics-symbol img",focusable:"false","aria-hidden":"true"},n,{children:[(0,N.jsx)("path",{d:"M24 24H0V0h24v24z",fill:"none"}),(0,N.jsx)("path",{d:"M10.89 18.28l.57-2.89c.12-.59-.04-1.2-.42-1.66-.38-.46-.94-.73-1.54-.73H4v-1.08L6.57 6h8.09c.18 0 .34.16.34.34v7.84l-4.11 4.1M10 22l6.41-6.41c.38-.38.59-.89.59-1.42V6.34C17 5.05 15.95 4 14.66 4h-8.1c-.71 0-1.36.37-1.72.97l-2.67 6.15c-.11.25-.17.52-.17.8V13c0 1.1.9 2 2 2h5.5l-.92 4.65c-.05.22-.02.46.08.66.23.45.52.86.88 1.22L10 22zm10-7h2V4h-2c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1z"})]}))},de=U.default=ue;function he({className:n}){const t=E.useId(),[s,r]=E.useState(!1);function a(){r(!0)}return e.jsxs("aside",{"aria-labelledby":t,className:y("flex gap-y-16 gap-x-24 bg-primary-light flex-wrap p-24",n),children:[e.jsx("h4",{id:t,className:"basis-full text-base font-bold",children:s?"Vielen Dank für Ihr Feedback!":"War der Elterngeldrechner mit Planer für Sie hilfreich?"}),!s&&e.jsxs(e.Fragment,{children:[e.jsx(j,{id:"feedback-button-ja-war-hilfreich",label:"Ja",iconBefore:e.jsx(ce,{}),buttonStyle:"secondary",onClick:a}),e.jsx(j,{id:"feedback-button-nein-war-nicht-hilfreich",label:"Nein",iconBefore:e.jsx(de,{}),buttonStyle:"secondary",onClick:a})]})]})}function me(){const n=ne(),{stepAllgemeineAngaben:t,stepNachwuchs:s,stepErwerbstaetigkeit:r,stepEinkommen:a,stepRechner:l,monatsplaner:i,configuration:o}=n.getState(),c=u=>u===te.YES?"1":"0",v=()=>c(t.alleinerziehend),g=u=>a[u].steuerKlasse??"",d=(u,f)=>{const p=a[u].taetigkeitenNichtSelbstaendigUndSelbstaendig[f];switch(p==null?void 0:p.artTaetigkeit){case"NichtSelbststaendig":return"2";case"Selbststaendig":return"1"}return""},T=u=>l[u].bruttoEinkommenZeitraum.length>0?"1":"0",V=()=>t.antragstellende!=="EinenElternteil",Q=()=>V()&&B("ET2"),B=u=>{const f=r[u];return f.isNichtSelbststaendig&&f.isSelbststaendig},x=u=>c(a[u].zahlenSieKirchenSteuer),G=u=>c(r[u].vorGeburt),X=()=>c(t.mutterschaftssleistungen),L=u=>i.elternteile[u].months.map(p=>{switch(p.type){case"BEG":return"1";case"EG+":return"2";case"PSB":return"3"}return"0"}).join(",");return e.jsx(e.Fragment,{children:e.jsxs("form",{method:"post",id:"anton-remote-eao-post-form",action:o.elternGeldDigitalWizardUrl,encType:"application/x-www-form-urlencoded",children:[e.jsx("input",{name:"planungP1",defaultValue:L("ET1"),readOnly:!0,type:"hidden"}),e.jsx("input",{name:"mehrlinge_anzahl",defaultValue:s.anzahlKuenftigerKinder,readOnly:!0,type:"hidden"}),e.jsx("input",{name:"kind_geburtstag",defaultValue:s.wahrscheinlichesGeburtsDatum,readOnly:!0,type:"hidden"}),e.jsx("input",{name:"alleinerziehend",defaultValue:v(),readOnly:!0,type:"hidden"}),e.jsx("input",{name:"mutterschaftsleistung",defaultValue:X(),readOnly:!0,type:"hidden"}),e.jsx("input",{name:"p1_et_vorgeburt",defaultValue:G("ET1"),readOnly:!0,type:"hidden"}),B("ET1")?e.jsxs(e.Fragment,{children:[e.jsx("input",{name:"p1_vg_misch_t1",defaultValue:d("ET1",0),readOnly:!0,type:"hidden"}),e.jsx("input",{name:"p1_vg_misch_t2",defaultValue:d("ET1",1),readOnly:!0,type:"hidden"}),e.jsx("input",{name:"p1_vg_misch_t3",defaultValue:d("ET1",2),readOnly:!0,type:"hidden"}),e.jsx("input",{name:"p1_misch_kirche",defaultValue:x("ET1"),readOnly:!0,type:"hidden"})]}):null,e.jsx("input",{name:"p1_et_nachgeburt",defaultValue:T("ET1"),readOnly:!0,type:"hidden"}),Q()?e.jsxs(e.Fragment,{children:[e.jsx("input",{name:"p2_vg_misch_t1",defaultValue:d("ET2",0),readOnly:!0,type:"hidden"}),e.jsx("input",{name:"p2_vg_misch_t2",defaultValue:d("ET2",1),readOnly:!0,type:"hidden"}),e.jsx("input",{name:"p2_vg_misch_t3",defaultValue:d("ET2",2),readOnly:!0,type:"hidden"}),e.jsx("input",{name:"p2_misch_kirche",defaultValue:x("ET2"),readOnly:!0,type:"hidden"})]}):null,e.jsx("input",{name:"p1_vg_kirchensteuer",defaultValue:x("ET1"),readOnly:!0,type:"hidden"}),e.jsx("input",{name:"p1_vg_nselbst_steuerklasse",defaultValue:g("ET1"),readOnly:!0,type:"hidden"}),V()?e.jsxs(e.Fragment,{children:[e.jsx("input",{name:"planungP2",defaultValue:L("ET2"),readOnly:!0,type:"hidden"}),e.jsx("input",{name:"p2_et_vorgeburt",defaultValue:G("ET2"),readOnly:!0,type:"hidden"}),e.jsx("input",{name:"p2_et_nachgeburt",defaultValue:T("ET2"),readOnly:!0,type:"hidden"}),e.jsx("input",{name:"p2_vg_kirchensteuer",defaultValue:x("ET2"),readOnly:!0,type:"hidden"}),e.jsx("input",{name:"p2_vg_nselbst_steuerklasse",defaultValue:g("ET2"),readOnly:!0,type:"hidden"})]}):null]})})}function fe({variante:n,details:t}){const s=pe[n],{elterngeld:r,nettoEinkommen:a,numberOfMonths:l}=t,i=h(r),o=h(a);return e.jsxs(e.Fragment,{children:[e.jsx(I,{variante:n,className:"min-w-[7ch]"}),e.jsxs("span",{children:[s," | ",l," Monate",e.jsx("br",{}),e.jsx("strong",{children:i}),a>0&&` | zusätzliches Einkommen ${o}`]})]})}const pe={BEG:"BasisElterngeld","EG+":"ElterngeldPlus",PSB:"Partnerschaftsbonus",None:"kein Elterngeld"};function W(n){const{from:t,to:s}=n,r=t.getFullYear()<s.getFullYear(),a=n.from.toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:r?"numeric":void 0}),l=n.to.toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"numeric"});return`${a} bis ${l}`}function ge({name:n,totalNumberOfMonths:t,geldInsgesamt:s,zeitraeueme:r,details:a}){const l=h(s),i=E.useId(),o=r.map(W);return e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("h4",{className:"text-base",children:[e.jsx(F,{})," ",n]}),e.jsxs("span",{children:[t," Monate Elterngeld |"," ",e.jsxs("span",{className:"font-bold",children:["insgesamt ",l]})]}),e.jsxs("div",{"aria-labelledby":i,className:"mb-auto",children:[e.jsx("span",{className:"text-basis",id:i,children:"Elterngeld im Zeitraum:"}),e.jsx("ul",{className:"list-none",children:o.map(c=>e.jsx("li",{children:c},c))})]}),e.jsx("ul",{"aria-label":"Details pro Elterngeldvariante",className:y("list-none","divide-x-0 divide-y-2 divide-solid divide-off-white","border-x-0 border-y-2 border-solid border-off-white"),children:xe.map(c=>e.jsx("li",{className:"flex items-start gap-24 py-8",children:e.jsx(fe,{variante:c,details:a[c]})},c))})]})}const xe=["BEG","EG+","PSB"];function be({data:n}){return e.jsx("div",{className:"flex flex-wrap gap-16 *:grow",children:n.map(t=>e.jsx(ge,{...t},t.name))})}var Z={},P=m&&m.__assign||function(){return P=Object.assign||function(n){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},P.apply(this,arguments)};Object.defineProperty(Z,"__esModule",{value:!0});var w=e,je=function(n){return(0,w.jsxs)("svg",P({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,"data-testid":"BusinessCenterOutlinedIcon",role:"graphics-symbol img",focusable:"false","aria-hidden":"true"},n,{children:[(0,w.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,w.jsx)("path",{d:"M20 7h-4V5l-2-2h-4L8 5v2H4c-1.1 0-2 .9-2 2v5c0 .75.4 1.38 1 1.73V19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-3.28c.59-.35 1-.99 1-1.72V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zM4 9h16v5h-5v-3H9v3H4V9zm9 6h-2v-2h2v2zm6 4H5v-3h4v1h6v-1h4v3z"})]}))},Ee=Z.default=je;function ye({variante:n,isMutterschutzMonth:t,elterngeld:s,nettoEinkommen:r,verfuegbaresEinkommen:a}){const l=ve(n,t),i=s>0,o=r>0&&!t,c=i&&!o,v=o&&!i,g=i&&o;return e.jsxs("div",{className:"flex flex-wrap items-start gap-x-8",children:[l,e.jsxs("div",{className:"flex flex-col place-self-center leading-7",children:[!!i&&e.jsx("span",{className:y({"font-bold":c}),children:h(s)}),!!o&&e.jsxs("span",{children:[e.jsx(Ee,{})," Einkommen"," ",e.jsx("span",{className:y({"font-bold":v}),children:h(r)})]}),!!g&&e.jsxs("span",{className:"mt-8 font-bold",children:["= ",e.jsx("span",{className:"sr-only",children:"verfügbares Einkommen"}),h(a)]})]})]})}function ve(n,t){return t?"Mutterschutz":n==="None"?e.jsx("span",{className:"basis-full",children:"- kein Elterngeld -"}):e.jsx(I,{variante:n,className:"min-w-[7ch]"})}function A({lastMonthIndexToShow:n,birthdate:t,elternteile:s}){return e.jsxs("table",{className:"w-full border-collapse [&_td]:pb-16 [&_th]:pb-16 [&_tr]:border-0 [&_tr]:border-b-2 [&_tr]:border-solid [&_tr]:border-grey-light",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left font-bold",children:[e.jsx("th",{scope:"col",children:"Lebensmonate"}),s.map(({name:r})=>e.jsxs("th",{scope:"col",abbr:r,className:"pl-32 last:pr-8",children:[e.jsx(F,{})," ",r]},r))]})}),e.jsx("tbody",{className:"[&_td]:pt-10 [&_th]:pt-10",children:[...Array(n+1)].map((r,a)=>e.jsxs("tr",{className:"leading-[2.333]",children:[e.jsxs("th",{scope:"row",abbr:`${a+1}`,className:"flex items-center px-8 text-left font-regular",children:[e.jsx("div",{className:"min-w-[3ch] font-bold",children:a+1}),e.jsx("div",{className:"leading-tight",children:_e(t,a)})]}),s.map(({lebensmonate:l},i)=>{const o=l[a]??Ne;return e.jsx("td",{className:"pl-32 align-top last:pr-8",children:e.jsx(ye,{...o})},`${a}${i}`)})]},a))})]})}function _e(n,t){const s=new Date(n);s.setMonth(s.getMonth()+t);const r=new Date(s);return r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),W({from:s,to:r})}const Ne={variante:"None",isMutterschutzMonth:!1,elterngeld:0,nettoEinkommen:0,verfuegbaresEinkommen:0};function we({data:n}){const t=b(C.getWahrscheinlichesGeburtsDatum),s=Math.max(...n.map(({lebensmonate:a})=>a.length))-1,r=n;return e.jsxs("div",{className:"@container/planungs-details",children:[e.jsx("div",{className:"flex flex-col gap-y-32 @2xl/planungs-details:hidden",children:r.map(a=>e.jsx(A,{lastMonthIndexToShow:s,birthdate:t,elternteile:[a]},a.name))}),e.jsx("div",{className:"hidden @2xl/planungs-details:block",children:e.jsx(A,{lastMonthIndexToShow:s,birthdate:t,elternteile:r})})]})}function Me(){const n=b(Oe),t=b(ke),s=b(Pe);return n?[t]:[t,s]}const Oe=H([n=>n.stepAllgemeineAngaben.antragstellende],n=>n==="EinenElternteil"),ke=Y("ET1"),Pe=Y("ET2");function Y(n){return H([t=>t.stepAllgemeineAngaben.pseudonym[n]||n.replace("ET","Elternteil "),t=>t.monatsplaner.elternteile[n].months,t=>t.stepRechner[n].elterngeldResult,C.getWahrscheinlichesGeburtsDatum],(t,s,r,a)=>({name:t,totalNumberOfMonths:R(s),geldInsgesamt:K(s,r)+J(s,r),zeitraeueme:Le(s,a),details:Ve(s,r),lebensmonate:Te(Se(s,r))}))}function Se(n,t){const s=S(t);return n.map((r,a)=>{const{type:l,isMutterschutzMonth:i}=r,o=q(s[a],r.type),c=s[a].nettoEinkommen;return{variante:l,isMutterschutzMonth:i,elterngeld:o,nettoEinkommen:c,verfuegbaresEinkommen:o+c}})}function Te(n){const t=n.findLastIndex(({variante:s})=>s!=="None");return n.slice(0,t+1)}function Ve(n,t){return{BEG:M("BEG",n,t),"EG+":M("EG+",n,t),PSB:M("PSB",n,t)}}function M(n,t,s){return{numberOfMonths:R(t,[n]),elterngeld:K(t,s,[n]),nettoEinkommen:J(t,s,[n])}}function R(n,t=["BEG","EG+","PSB"]){return n.filter(s=>s.type!=="None"&&t.includes(s.type)).length}function K(n,t,s=["BEG","EG+","PSB"]){const r=S(t);return n.map((l,i)=>{const o=l.type!=="None"&&s.includes(l.type),c=r[i];return o?q(c,l.type):0}).reduce((l,i)=>l+i,0)}function J(n,t,s=["BEG","EG+","PSB","None"]){const r=S(t);return n.map((l,i)=>{const o=s.includes(l.type),c=r[i];return o?c.nettoEinkommen:0}).reduce((l,i)=>l+i,0)}function S(n){const t=n.state==="success"?n.data:[];return Array.from({length:le.lebensMonateMaxNumber},(s,r)=>t.find(Be.bind({monthIndex:r}))??Ge(r))}function q(n,t){switch(t){case"BEG":return n.basisElternGeld;case"EG+":case"PSB":return n.elternGeldPlus;case"None":return 0}}function Be(n){const t=n.vonLebensMonat-1,s=n.bisLebensMonat-1;return t<=this.monthIndex&&this.monthIndex<=s}function Ge(n){return{vonLebensMonat:n,bisLebensMonat:n,basisElternGeld:0,elternGeldPlus:0,nettoEinkommen:0}}function Le(n,t){return n.reduce((a,l,i)=>(l.type==="None"?a.push([]):a[a.length-1].push(i),a),[[]]).filter(a=>a.length>0).map(a=>({fromLebensmonat:a[0]+1,toLebensmonat:a[a.length-1]+1})).map(a=>({from:z(t,{months:a.fromLebensmonat-1}),to:z(t,{months:a.toLebensmonat,days:-1})}))}function z(n,t){const s=new Date(n);return s.setMonth(s.getMonth()+(t.months??0)),s.setDate(s.getDate()+(t.days??0)),s}function ze(){const n=E.useId(),t=Me(),s=se(),r=()=>s(D.rechnerUndPlaner.route);return e.jsxs(ae,{step:D.zusammenfassungUndDaten,children:[e.jsxs("div",{className:"mb-40 flex flex-wrap justify-between gap-y-80",children:[e.jsxs("section",{className:"flex basis-full flex-col gap-24","aria-describedby":n,children:[e.jsx("h3",{children:"Zusammenfassung"}),e.jsx("p",{id:n,children:"Hier finden sie eine Übersicht Ihrer Planung der Elterngeldmonate"}),e.jsx(be,{data:t})]}),e.jsxs("section",{className:"flex basis-full break-before-page break-inside-avoid flex-col gap-y-16",children:[e.jsx("h3",{children:"Planung der Monate im Detail"}),e.jsx(we,{data:t})]})]}),e.jsxs("div",{className:"flex flex-col gap-y-32",children:[e.jsx("div",{children:e.jsx(ie,{})}),e.jsxs("section",{className:re("monatsplaner__button-group"),children:[e.jsx(j,{buttonStyle:"secondary",label:"Zurück",onClick:r}),e.jsx(me,{})]})]}),e.jsx(he,{className:"mt-40"})]})}export{ze as default};
