import getLebensmonate, { EmptyLebensmonat, Lebensmonat } from "./lebensmonate";
import { numberOfLebensmonate } from "@/monatsplaner/configuration";

describe("Lebensmonate", () => {
  it("should return the list of Lebensmonate when no Geburtstag is given", () => {
    const lebensmonate: Lebensmonat[] | EmptyLebensmonat[] = getLebensmonate();

    expect(lebensmonate).toEqual(
      Array.from<EmptyLebensmonat>({ length: numberOfLebensmonate }).fill({}),
    );
  });

  it("should return the list of Lebensmonate for a given Geburtstag", () => {
    const lebensmonate: Lebensmonat[] | EmptyLebensmonat[] = getLebensmonate(
      new Date(2022, 0, 1),
    );

    expect(lebensmonate).toEqual([
      {
        from: "2022-01-01T00:00:00.000",
        to: "2022-01-31T23:59:59.999",
      },
      {
        from: "2022-02-01T00:00:00.000",
        to: "2022-02-28T23:59:59.999",
      },
      {
        from: "2022-03-01T00:00:00.000",
        to: "2022-03-31T23:59:59.999",
      },
      {
        from: "2022-04-01T00:00:00.000",
        to: "2022-04-30T23:59:59.999",
      },
      {
        from: "2022-05-01T00:00:00.000",
        to: "2022-05-31T23:59:59.999",
      },
      {
        from: "2022-06-01T00:00:00.000",
        to: "2022-06-30T23:59:59.999",
      },
      {
        from: "2022-07-01T00:00:00.000",
        to: "2022-07-31T23:59:59.999",
      },
      {
        from: "2022-08-01T00:00:00.000",
        to: "2022-08-31T23:59:59.999",
      },
      {
        from: "2022-09-01T00:00:00.000",
        to: "2022-09-30T23:59:59.999",
      },
      {
        from: "2022-10-01T00:00:00.000",
        to: "2022-10-31T23:59:59.999",
      },
      {
        from: "2022-11-01T00:00:00.000",
        to: "2022-11-30T23:59:59.999",
      },
      {
        from: "2022-12-01T00:00:00.000",
        to: "2022-12-31T23:59:59.999",
      },
      {
        from: "2023-01-01T00:00:00.000",
        to: "2023-01-31T23:59:59.999",
      },
      {
        from: "2023-02-01T00:00:00.000",
        to: "2023-02-28T23:59:59.999",
      },
      {
        from: "2023-03-01T00:00:00.000",
        to: "2023-03-31T23:59:59.999",
      },
      {
        from: "2023-04-01T00:00:00.000",
        to: "2023-04-30T23:59:59.999",
      },
      {
        from: "2023-05-01T00:00:00.000",
        to: "2023-05-31T23:59:59.999",
      },
      {
        from: "2023-06-01T00:00:00.000",
        to: "2023-06-30T23:59:59.999",
      },
      {
        from: "2023-07-01T00:00:00.000",
        to: "2023-07-31T23:59:59.999",
      },
      {
        from: "2023-08-01T00:00:00.000",
        to: "2023-08-31T23:59:59.999",
      },
      {
        from: "2023-09-01T00:00:00.000",
        to: "2023-09-30T23:59:59.999",
      },
      {
        from: "2023-10-01T00:00:00.000",
        to: "2023-10-31T23:59:59.999",
      },
      {
        from: "2023-11-01T00:00:00.000",
        to: "2023-11-30T23:59:59.999",
      },
      {
        from: "2023-12-01T00:00:00.000",
        to: "2023-12-31T23:59:59.999",
      },
      {
        from: "2024-01-01T00:00:00.000",
        to: "2024-01-31T23:59:59.999",
      },
      {
        from: "2024-02-01T00:00:00.000",
        to: "2024-02-29T23:59:59.999",
      },
      {
        from: "2024-03-01T00:00:00.000",
        to: "2024-03-31T23:59:59.999",
      },
      {
        from: "2024-04-01T00:00:00.000",
        to: "2024-04-30T23:59:59.999",
      },
      {
        from: "2024-05-01T00:00:00.000",
        to: "2024-05-31T23:59:59.999",
      },
      {
        from: "2024-06-01T00:00:00.000",
        to: "2024-06-30T23:59:59.999",
      },
      {
        from: "2024-07-01T00:00:00.000",
        to: "2024-07-31T23:59:59.999",
      },
      {
        from: "2024-08-01T00:00:00.000",
        to: "2024-08-31T23:59:59.999",
      },
    ]);
  });

  it("should return the list of Lebensmonate for a given Geburtstag that is mid-month", () => {
    const lebensmonate: Lebensmonat[] | EmptyLebensmonat[] = getLebensmonate(
      new Date(2022, 3, 12),
    );

    expect(lebensmonate).toEqual([
      {
        from: "2022-04-12T00:00:00.000",
        to: "2022-05-11T23:59:59.999",
      },
      {
        from: "2022-05-12T00:00:00.000",
        to: "2022-06-11T23:59:59.999",
      },
      {
        from: "2022-06-12T00:00:00.000",
        to: "2022-07-11T23:59:59.999",
      },
      {
        from: "2022-07-12T00:00:00.000",
        to: "2022-08-11T23:59:59.999",
      },
      {
        from: "2022-08-12T00:00:00.000",
        to: "2022-09-11T23:59:59.999",
      },
      {
        from: "2022-09-12T00:00:00.000",
        to: "2022-10-11T23:59:59.999",
      },
      {
        from: "2022-10-12T00:00:00.000",
        to: "2022-11-11T23:59:59.999",
      },
      {
        from: "2022-11-12T00:00:00.000",
        to: "2022-12-11T23:59:59.999",
      },
      {
        from: "2022-12-12T00:00:00.000",
        to: "2023-01-11T23:59:59.999",
      },
      {
        from: "2023-01-12T00:00:00.000",
        to: "2023-02-11T23:59:59.999",
      },
      {
        from: "2023-02-12T00:00:00.000",
        to: "2023-03-11T23:59:59.999",
      },
      {
        from: "2023-03-12T00:00:00.000",
        to: "2023-04-11T23:59:59.999",
      },
      {
        from: "2023-04-12T00:00:00.000",
        to: "2023-05-11T23:59:59.999",
      },
      {
        from: "2023-05-12T00:00:00.000",
        to: "2023-06-11T23:59:59.999",
      },
      {
        from: "2023-06-12T00:00:00.000",
        to: "2023-07-11T23:59:59.999",
      },
      {
        from: "2023-07-12T00:00:00.000",
        to: "2023-08-11T23:59:59.999",
      },
      {
        from: "2023-08-12T00:00:00.000",
        to: "2023-09-11T23:59:59.999",
      },
      {
        from: "2023-09-12T00:00:00.000",
        to: "2023-10-11T23:59:59.999",
      },
      {
        from: "2023-10-12T00:00:00.000",
        to: "2023-11-11T23:59:59.999",
      },
      {
        from: "2023-11-12T00:00:00.000",
        to: "2023-12-11T23:59:59.999",
      },
      {
        from: "2023-12-12T00:00:00.000",
        to: "2024-01-11T23:59:59.999",
      },
      {
        from: "2024-01-12T00:00:00.000",
        to: "2024-02-11T23:59:59.999",
      },
      {
        from: "2024-02-12T00:00:00.000",
        to: "2024-03-11T23:59:59.999",
      },
      {
        from: "2024-03-12T00:00:00.000",
        to: "2024-04-11T23:59:59.999",
      },
      {
        from: "2024-04-12T00:00:00.000",
        to: "2024-05-11T23:59:59.999",
      },
      {
        from: "2024-05-12T00:00:00.000",
        to: "2024-06-11T23:59:59.999",
      },
      {
        from: "2024-06-12T00:00:00.000",
        to: "2024-07-11T23:59:59.999",
      },
      {
        from: "2024-07-12T00:00:00.000",
        to: "2024-08-11T23:59:59.999",
      },
      {
        from: "2024-08-12T00:00:00.000",
        to: "2024-09-11T23:59:59.999",
      },
      {
        from: "2024-09-12T00:00:00.000",
        to: "2024-10-11T23:59:59.999",
      },
      {
        from: "2024-10-12T00:00:00.000",
        to: "2024-11-11T23:59:59.999",
      },
      {
        from: "2024-11-12T00:00:00.000",
        to: "2024-12-11T23:59:59.999",
      },
    ]);
  });
});
