"use strict";(self.webpackChunk_egr_egr_app=self.webpackChunk_egr_egr_app||[]).push([[930],{6930:(e,n,t)=>{t.r(n),t.d(n,{default:()=>te});var a=t(2791),s=t(996),l=t.n(s),r=t(1539),i=t.n(r),o=t(531),c=t.n(o),u=t(8336),d=t.n(u),m=t(9630),h=t.n(m),f=t(8096),g=t.n(f),v=t(9068),x=t.n(v),p=t(1418),b=t.n(p),j=t(184);function E(e){let{variante:n,className:t}=e;const a=n?w[n]:(0,j.jsx)(l(),{}),s=n?N[n]:T;return(0,j.jsx)("span",{className:b()("py-8 px-4 rounded text-center font-bold flex items-center justify-center leading-4 min-h-56",t,s),children:a})}const w={BEG:"Basis","EG+":"Plus",PSB:"Bonus",None:"kein Elterngeld"},N={BEG:"elterngeld-basis","EG+":"elterngeld-plus",PSB:"elterngeld-bonus",None:"elterngeld-none"},T="bg-off-white border-grey border-2 text-black";var y=t(3766),k=t.n(y),C=t(704),M=t.n(C);function P(e){let{label:n,isChecked:t,onToggle:a,className:s}=e;const l=t?k():M();return(0,j.jsxs)("button",{type:"button",role:"switch","aria-checked":t,onClick:()=>a(!t),className:s,children:[(0,j.jsx)(l,{})," ",n]})}var B=t(3227);const _=(0,a.memo)((function(e){let{name:n,checkedVariante:t,onChange:a,elterngeldProVariante:s}=e;return(0,j.jsx)(j.Fragment,{children:z.map((e=>{let{variante:l,label:r,className:i}=e;const o=l===t,c=s[l],u=(0,B.c)(c);return(0,j.jsxs)("label",{className:b()("font-bold p-8 rounded leading-4 gap-4 min-h-56 flex justify-center items-center","focus-within:outline-2 hover:underline ",{"ring-4":o},i),children:[(0,j.jsx)("input",{type:"radio",className:"!focus:outline-none appearance-none",name:n,value:l,checked:o,onChange:()=>a(l)}),r,c>0&&(0,j.jsx)("span",{className:"font-regular",children:u})]},l)}))})})),z=[{variante:"BEG",label:"Basis",className:"elterngeld-basis"},{variante:"EG+",label:"Plus",className:"elterngeld-plus"},{variante:"PSB",label:"Bonus",className:"elterngeld-bonus"},{variante:"None",label:"kein Elterngeld",className:"elterngeld-none"}];var G=t(2758),I=t.n(G);function L(e){let{finanzen:n,variante:t,className:a}=e;const{elterngeldProVariante:s,nettoEinkommen:l}=n,r=t?s[t]:0,i=(0,B.c)(r),o=!!l&&(0,B.c)(l);return(0,j.jsxs)("div",{className:b()("flex flex-col items-center justify-center",a),children:[!!r&&(0,j.jsx)("span",{className:"font-bold",children:i}),!!l&&(0,j.jsxs)("span",{children:[(0,j.jsx)(I(),{})," ",o]})]})}function O(e){let{geburtsdatum:n,lebensmonat:t,className:a}=e;const s=function(e,n){const t=new Date(e);t.setMonth(e.getMonth()+n-1);const a=new Date(e);return a.setMonth(e.getMonth()+n),a.setDate(a.getDate()-1),{from:t,to:a}}(n,t),l=function(e){const n=e.from.toLocaleDateString(),t=e.to.toLocaleDateString();return"".concat(n," bis ").concat(t)}(s);return(0,j.jsxs)("span",{className:a,children:["Zeitraum: ",l]})}function V(e){const n=e.target,t="details"===n.tagName.toLowerCase(),a=n.getAttribute("name"),s=t&&null!==a,l=null!==n.getAttribute("open");if(s&&l){Array.from(document.querySelectorAll("details[name=".concat(a,"][open]"))).filter((e=>e!==n)).forEach((e=>e.removeAttribute("open")))}}function H(e){var n,t;let{geburtsdatum:s,lebensmonat:l,plan:r,onPlanChanges:i,finanzen:o,className:c,isHidden:u}=e;const d=(0,a.useCallback)((function(e){i({...r,[this]:{...r[this],variante:e}})}),[r,i]),[m,h]=(0,a.useMemo)((()=>[d.bind("ET1"),d.bind("ET2")]),[d]),f=(0,a.useCallback)((function(e){const n=e.target.value.trim(),t=0===n.length?void 0:Number.parseInt(n);if(void 0===t||!isNaN(t)){const e={...r,[this]:{...r[this],bruttoEinkommen:t}};i(e)}}),[r,i]),[v,p]=(0,a.useMemo)((()=>[f.bind("ET1"),f.bind("ET2")]),[f]),w=(0,a.useCallback)((()=>{const e={...r.ET1,einkommenBrutto:void 0},n={...r.ET2,einkommenBrutto:void 0};i({...r,ET1:e,ET2:n})}),[r,i]),N=[r.ET1.variante,r.ET2.variante].includes("PSB"),[T,y]=(0,a.useState)(!!r.ET1.bruttoEinkommen||!!r.ET2.bruttoEinkommen),k=T||N,C=(0,a.useCallback)((e=>{N||(y(e),!e&&w())}),[w,N]),M="absolute right-4 bottom-1/2 translate-y-1/2",B="grid grid-cols-[6fr,1fr,6fr]";return(0,j.jsxs)("details",{className:b()("open:bg-off-white hover:bg-off-white group",c),name:"Lebensmonat",onToggle:V,hidden:u,children:[(0,j.jsxs)("summary",{className:b()("relative list-none px-32 my-10 gap-4 justify-center hover:cursor-pointer",B),children:[(0,j.jsxs)("div",{className:"flex flex-wrap-reverse items-center",children:[(0,j.jsx)(L,{finanzen:o.ET1,variante:r.ET1.variante,className:"grow"}),(0,j.jsx)(E,{variante:r.ET1.variante,className:"shrink basis-112"})]}),(0,j.jsx)("span",{className:"flex items-center justify-center px-2 font-bold",children:l}),(0,j.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,j.jsx)(E,{variante:r.ET2.variante,className:"shrink basis-112"}),(0,j.jsx)(L,{finanzen:o.ET2,variante:r.ET2.variante,className:"grow"})]}),(0,j.jsx)(x(),{className:b()(M,"group-open:hidden")}),(0,j.jsx)(g(),{className:b()(M,"hidden group-open:inline")})]}),(0,j.jsxs)("div",{className:b()("mx-20 mb-24 mt-20 gap-y-10",B),children:[(0,j.jsx)(O,{geburtsdatum:s,lebensmonat:l,className:"col-start-1 col-end-[-1] text-center"}),(0,j.jsx)("fieldset",{"aria-label":"Elterngeldvariante Lebensmonat ".concat(l," ET1"),className:"col-start-1 flex justify-end",children:(0,j.jsx)("div",{className:"flex max-w-[20ch] grow flex-col gap-10",children:(0,j.jsx)(_,{name:"lebensmonat-".concat(l,"-variante-ET1"),checkedVariante:r.ET1.variante,onChange:m,elterngeldProVariante:o.ET1.elterngeldProVariante})})}),(0,j.jsx)("fieldset",{"aria-label":"Elterngeldvariante Lebensmonat ".concat(l," ET2"),className:"col-start-3 flex",children:(0,j.jsx)("div",{className:"flex max-w-[20ch] grow flex-col gap-10",children:(0,j.jsx)(_,{name:"lebensmonat-".concat(l,"-variante-ET2"),checkedVariante:r.ET2.variante,onChange:h,elterngeldProVariante:o.ET2.elterngeldProVariante})})}),(0,j.jsx)(P,{className:"col-start-1 col-end-[-1] mt-16",isChecked:T||N,onToggle:C,label:"Bruttoeinkommen in diesem Monat"}),!!k&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"cols-start-1 flex justify-end",children:(0,j.jsxs)("label",{className:"flex max-w-[20ch] grow flex-col gap-10",children:["Einkommen in \u20ac",(0,j.jsx)("input",{inputMode:"numeric",className:"w-full appearance-none px-16 py-8 focus:ring-2 focus:ring-primary",value:null!==(n=r.ET1.bruttoEinkommen)&&void 0!==n?n:"",onChange:v,placeholder:"0"})]})}),(0,j.jsx)("div",{className:"col-start-3 flex",children:(0,j.jsxs)("label",{className:"flex max-w-[20ch] grow flex-col gap-10",children:["Einkommen in \u20ac",(0,j.jsx)("input",{inputMode:"numeric",className:"w-full appearance-none px-16 py-8 focus:ring-2 focus:ring-primary",value:null!==(t=r.ET2.bruttoEinkommen)&&void 0!==t?t:"",onChange:p,placeholder:"0"})]})})]})]})]})}var S=t(3153),D=t(7079);const A=(0,S.v6)([e=>e.stepNachwuchs.wahrscheinlichesGeburtsDatum],(e=>function(e){const[n,t,a]=e.split("."),s="".concat(t,"-").concat(n,"-").concat(a),l=Date.parse(s);return new Date(l)}(e)));const R=(0,S.v6)([e=>e.stepRechner.ET1.elterngeldResult,e=>e.stepRechner.ET2.elterngeldResult],((e,n)=>Array.from({length:D.CT},((t,a)=>({ET1:q(e,a),ET2:q(n,a)}))))),Z=(0,S.v6)([e=>e.monatsplaner.elternteile.ET1.months,e=>e.monatsplaner.elternteile.ET2.months,e=>e.stepRechner.ET1.bruttoEinkommenZeitraum,e=>e.stepRechner.ET2.bruttoEinkommenZeitraum],((e,n,t,a)=>Array.from({length:D.CT},((s,l)=>{const r=e[l].type,i=n[l].type;return{ET1:{variante:r,bruttoEinkommen:F(t,l)},ET2:{variante:i,bruttoEinkommen:F(a,l)}}}))));function q(e,n){var t,a,s;const l=function(e,n){const t=n+1,a="success"===e.state?e.data:[];return a.find((e=>{let{vonLebensMonat:n,bisLebensMonat:a}=e;return n<=t&&t<=a}))}(e,n);return{nettoEinkommen:null===l||void 0===l?void 0:l.nettoEinkommen,elterngeldProVariante:{BEG:null!==(t=null===l||void 0===l?void 0:l.basisElternGeld)&&void 0!==t?t:0,"EG+":null!==(a=null===l||void 0===l?void 0:l.elternGeldPlus)&&void 0!==a?a:0,PSB:null!==(s=null===l||void 0===l?void 0:l.elternGeldPlus)&&void 0!==s?s:0,None:0}}}function F(e,n){var t;const a=n+1,s=e.find((e=>{let{zeitraum:n}=e;return Number.parseInt(n.from)<=a&&a<=Number.parseInt(n.to)}));return null!==(t=null===s||void 0===s?void 0:s.bruttoEinkommen)&&void 0!==t?t:void 0}var W=t(5104),U=t(8607),X=t(8224),Y=t(7792),J=t(580),K=t(2760),Q=t(177);function $(){const e=(0,X.D)(),n=(0,S.CG)(Q.cI.getElternteilNames),t=(0,S.CG)(A),s=(0,S.CG)(Z),r=(0,S.TL)(),o=(0,a.useCallback)((function(e){const{elternteil:n,monthIndex:t}=this,a=s[this.monthIndex][n].variante;if(void 0!==e&&a!==e){const a=J.Wo.changeMonth({elternteil:n,monthIndex:t,targetType:e,partnerMonate:"PSB"===e});r(a)}}),[r,s]),u=(0,a.useCallback)((function(e){const{elternteil:n,monthIndex:t}=this,a=s.map(((a,s)=>{const l=a[n].bruttoEinkommen,r=s===t?e:l,i="".concat(s+1);return{bruttoEinkommen:null!==r&&void 0!==r?r:null,zeitraum:{from:i,to:i}}}));r(K.lq.calculateBEG({elternteil:n,bruttoEinkommenZeitraum:a}))}),[r,s]),m=(0,S.CG)(R),{lastVisibleIndex:f,areListElementsHidden:g,toggleListShortening:v}=function(e,n){const[t,s]=(0,a.useState)(e),[l,r]=(0,a.useState)(n),i=(0,a.useCallback)((()=>{r(!l),s(l?Number.MAX_SAFE_INTEGER:e)}),[l,e]);return{lastVisibleIndex:t,areListElementsHidden:l,toggleListShortening:i}}(13,!0),x=(0,W.y)(),p=(0,a.useRef)(null),b=(0,a.useCallback)((()=>{var e,n;r(J.Wo.resetMonths()),null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),null===(n=p.current)||void 0===n||n.focus({preventScroll:!0})}),[r]);return(0,a.useEffect)((()=>{r(K.lq.calculateBEG({elternteil:"ET1",bruttoEinkommenZeitraum:[]})),r(K.lq.calculateBEG({elternteil:"ET2",bruttoEinkommenZeitraum:[]}))}),[r]),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{ref:p,className:"flex max-w-[80ch] flex-col gap-16 bg-off-white",children:[(0,j.jsx)(Y.LY,{className:"p-16 print:hidden",months:e}),(0,j.jsxs)("div",{className:"flex flex-col border-2 border-off-white bg-white py-16",children:[(0,j.jsxs)("div",{className:"flex justify-evenly font-bold",children:[(0,j.jsxs)("span",{children:[(0,j.jsx)(i(),{})," ",n.ET1]}),(0,j.jsxs)("span",{children:[(0,j.jsx)(i(),{})," ",n.ET2]})]}),(0,j.jsx)("span",{className:"mb-6 text-center text-14",children:"Lebensmonate"}),Array.from({length:D.CT},((e,n)=>{const a=n+1,l=s[n],r=m[n],i=n>f;return(0,j.jsx)(H,{className:"w-full",geburtsdatum:t,lebensmonat:a,plan:l,onPlanChanges:e=>{const{ET1:t,ET2:a}=e;o.call({elternteil:"ET1",monthIndex:n},t.variante),o.call({elternteil:"ET2",monthIndex:n},a.variante),u.call({elternteil:"ET1",monthIndex:n},t.bruttoEinkommen),u.call({elternteil:"ET2",monthIndex:n},a.bruttoEinkommen)},finanzen:r,isHidden:i},n)})),(0,j.jsx)("hr",{className:"mx-24 my-10 border border-off-white"}),(0,j.jsxs)("button",{type:"button",onClick:v,className:"font-bold text-primary print:hidden",children:[g?(0,j.jsx)(l(),{}):(0,j.jsx)(c(),{}),g?"mehr":"weniger"," Monate zeigen"]})]}),(0,j.jsx)(U.r,{className:"w-full p-16",data:x})]}),(0,j.jsxs)("div",{className:"my-32 flex gap-32 text-primary print:hidden",children:[(0,j.jsxs)("button",{type:"button",onClick:b,children:[(0,j.jsx)(d(),{})," ",(0,j.jsx)("span",{className:"underline",children:"Planung wiederholen"})]}),(0,j.jsxs)("button",{type:"button",onClick:window.print,children:[(0,j.jsx)(h(),{})," ",(0,j.jsx)("span",{className:"underline",children:"Download der Planung"})]})]})]})}var ee=t(8137),ne=t(2995);const te=function(){return(0,j.jsxs)(ne.T,{step:ee.w.rechnerUndPlaner,children:[(0,j.jsx)("h3",{children:"Monatsplaner"}),(0,j.jsx)($,{})]})}},2758:function(e,n,t){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},a.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var s=t(184);n.default=function(e){return(0,s.jsxs)("svg",a({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,"data-testid":"BusinessCenterOutlinedIcon",role:"graphics-symbol img",focusable:"false","aria-hidden":"true"},e,{children:[(0,s.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,s.jsx)("path",{d:"M20 7h-4V5l-2-2h-4L8 5v2H4c-1.1 0-2 .9-2 2v5c0 .75.4 1.38 1 1.73V19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-3.28c.59-.35 1-.99 1-1.72V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zM4 9h16v5h-5v-3H9v3H4V9zm9 6h-2v-2h2v2zm6 4H5v-3h4v1h6v-1h4v3z"})]}))}},9630:function(e,n,t){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},a.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var s=t(184);n.default=function(e){return(0,s.jsxs)("svg",a({xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:24,viewBox:"0 0 24 24",width:24,"data-testid":"FileDownloadOutlinedIcon",role:"graphics-symbol img",focusable:"false","aria-hidden":"true"},e,{children:[(0,s.jsx)("g",{children:(0,s.jsx)("rect",{fill:"none",height:24,width:24})}),(0,s.jsx)("g",{children:(0,s.jsx)("path",{d:"M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M17,11l-1.41-1.41L13,12.17V4h-2v8.17L8.41,9.59L7,11l5,5 L17,11z"})})]}))}},704:function(e,n,t){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},a.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var s=t(184);n.default=function(e){return(0,s.jsxs)("svg",a({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,"data-testid":"ToggleOffIcon",role:"graphics-symbol img",focusable:"false","aria-hidden":"true"},e,{children:[(0,s.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,s.jsx)("path",{d:"M17 7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h10c2.76 0 5-2.24 5-5s-2.24-5-5-5zM7 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"})]}))}},3766:function(e,n,t){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},a.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var s=t(184);n.default=function(e){return(0,s.jsxs)("svg",a({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,"data-testid":"ToggleOnIcon",role:"graphics-symbol img",focusable:"false","aria-hidden":"true"},e,{children:[(0,s.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,s.jsx)("path",{d:"M17 7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h10c2.76 0 5-2.24 5-5s-2.24-5-5-5zm0 8c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"})]}))}}}]);
//# sourceMappingURL=930.47000100.chunk.js.map